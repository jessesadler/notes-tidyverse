<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.537">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="dcterms.date" content="2023-07-19">
<title>tidyverse notes - 18&nbsp; Color scales</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./02-scales-aes.html" rel="next">
<link href="./02-scales-position.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
</head>
<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./02-ggplot2-rstudioconf-2022.html">ggplot2</a></li><li class="breadcrumb-item"><a href="./02-scales-color.html"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Color scales</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">tidyverse notes</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">tidyverse</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-pipe.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Pipe: magrittr and native</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-readr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">readr</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-dplyr-colwise.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">dplyr: Column-wise operations</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-dplyr-rowwise.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">dplyr: Row-wise operations</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-dplyr-1.0.0.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">dplyr 1.0.0</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-dplyr-1.1.0.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">dplyr 1.1.0</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-forcats.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">forcats</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-lubridate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Dates and times with lubridate</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-tidy-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Tidy data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-tidyr-pivoting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">tidyr: Pivoting</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-tidyr-rectangling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">tidyr: Rectandling</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-purrr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">purrr</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">ggplot2</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-ggplot2-rstudioconf-2022.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">RStudio conf 2022 ggplot2 workshop</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-geoms.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Geoms</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-annotations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Annotations</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-aesthetics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Aesthetics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-scales-position.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Position scales</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-scales-color.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Color scales</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-scales-aes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Aesthetic scales</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-coords.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Coordinates</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-guides.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Guides: Legends</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-facets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Facets</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-themes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Themes</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-patchwork.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">patchwork</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">tidy eval</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-programming-dplyr-superceded.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Programming with dplyr (pre 1.0.0)</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-programming-dplyr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Programming with dplyr</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-metaprogramming.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Advanced R: Metaprogramming</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-rlang-tidyeval.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">rlang: Tidy evaluation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-rlang-metaprogramming.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">rlang: Metaprogramming</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./readr-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">readr example data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#sec-color-resources" id="toc-sec-color-resources" class="nav-link active" data-scroll-target="#sec-color-resources"><span class="header-section-number">18.1</span> Resources</a></li>
  <li>
<a href="#sec-color-fns" id="toc-sec-color-fns" class="nav-link" data-scroll-target="#sec-color-fns"><span class="header-section-number">18.2</span> Color functions</a>
  <ul class="collapse">
<li><a href="#sec-color-defaults" id="toc-sec-color-defaults" class="nav-link" data-scroll-target="#sec-color-defaults"><span class="header-section-number">18.2.1</span> Default color scales</a></li>
  <li><a href="#sec-color-scales-create" id="toc-sec-color-scales-create" class="nav-link" data-scroll-target="#sec-color-scales-create"><span class="header-section-number">18.2.2</span> Creating color scales</a></li>
  <li><a href="#sec-color-brewer" id="toc-sec-color-brewer" class="nav-link" data-scroll-target="#sec-color-brewer"><span class="header-section-number">18.2.3</span> Color brewer scales</a></li>
  <li><a href="#sec-color-viridis" id="toc-sec-color-viridis" class="nav-link" data-scroll-target="#sec-color-viridis"><span class="header-section-number">18.2.4</span> Viridis scales</a></li>
  </ul>
</li>
  <li>
<a href="#sec-color-scale-types" id="toc-sec-color-scale-types" class="nav-link" data-scroll-target="#sec-color-scale-types"><span class="header-section-number">18.3</span> ggplot2 color scales</a>
  <ul class="collapse">
<li><a href="#sec-color-cont" id="toc-sec-color-cont" class="nav-link" data-scroll-target="#sec-color-cont"><span class="header-section-number">18.3.1</span> Continuous color scales</a></li>
  <li><a href="#sec-color-bin" id="toc-sec-color-bin" class="nav-link" data-scroll-target="#sec-color-bin"><span class="header-section-number">18.3.2</span> Binned color scales</a></li>
  <li><a href="#sec-color-disc" id="toc-sec-color-disc" class="nav-link" data-scroll-target="#sec-color-disc"><span class="header-section-number">18.3.3</span> Discrete color scales</a></li>
  <li><a href="#sec-color-manual" id="toc-sec-color-manual" class="nav-link" data-scroll-target="#sec-color-manual"><span class="header-section-number">18.3.4</span> Manual and identity scales</a></li>
  </ul>
</li>
  <li><a href="#sec-color-guides" id="toc-sec-color-guides" class="nav-link" data-scroll-target="#sec-color-guides"><span class="header-section-number">18.4</span> Labels, breaks, and legends</a></li>
  <li>
<a href="#sec-color-pkgs" id="toc-sec-color-pkgs" class="nav-link" data-scroll-target="#sec-color-pkgs"><span class="header-section-number">18.5</span> Color palette packages</a>
  <ul class="collapse">
<li><a href="#sec-color-pkgs-overview" id="toc-sec-color-pkgs-overview" class="nav-link" data-scroll-target="#sec-color-pkgs-overview"><span class="header-section-number">18.5.1</span> Overview</a></li>
  <li><a href="#sec-solor-palettes-pkg" id="toc-sec-solor-palettes-pkg" class="nav-link" data-scroll-target="#sec-solor-palettes-pkg"><span class="header-section-number">18.5.2</span> palettes pkg</a></li>
  <li><a href="#sec-color-scales-pkg" id="toc-sec-color-scales-pkg" class="nav-link" data-scroll-target="#sec-color-scales-pkg"><span class="header-section-number">18.5.3</span> Scales pkg</a></li>
  <li><a href="#sec-color-base" id="toc-sec-color-base" class="nav-link" data-scroll-target="#sec-color-base"><span class="header-section-number">18.5.4</span> Base color palettes</a></li>
  <li><a href="#sec-color-colorspace" id="toc-sec-color-colorspace" class="nav-link" data-scroll-target="#sec-color-colorspace"><span class="header-section-number">18.5.5</span> colorspace</a></li>
  <li><a href="#sec-color-scico" id="toc-sec-color-scico" class="nav-link" data-scroll-target="#sec-color-scico"><span class="header-section-number">18.5.6</span> scico</a></li>
  <li><a href="#sec-color-ggsci" id="toc-sec-color-ggsci" class="nav-link" data-scroll-target="#sec-color-ggsci"><span class="header-section-number">18.5.7</span> ggsci</a></li>
  <li><a href="#sec-color-ggthemes" id="toc-sec-color-ggthemes" class="nav-link" data-scroll-target="#sec-color-ggthemes"><span class="header-section-number">18.5.8</span> ggthemes</a></li>
  <li><a href="#sec-color-rcartocolors" id="toc-sec-color-rcartocolors" class="nav-link" data-scroll-target="#sec-color-rcartocolors"><span class="header-section-number">18.5.9</span> rcartocolors</a></li>
  <li><a href="#sec-color-metbrewer" id="toc-sec-color-metbrewer" class="nav-link" data-scroll-target="#sec-color-metbrewer"><span class="header-section-number">18.5.10</span> MetBrewer</a></li>
  <li><a href="#sec-color-paletteer" id="toc-sec-color-paletteer" class="nav-link" data-scroll-target="#sec-color-paletteer"><span class="header-section-number">18.5.11</span> paletteer</a></li>
  </ul>
</li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./02-ggplot2-rstudioconf-2022.html">ggplot2</a></li><li class="breadcrumb-item"><a href="./02-scales-color.html"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Color scales</span></a></li></ol></nav><div class="quarto-title">
<h1 class="title"><span id="sec-color" class="quarto-section-identifier"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Color scales</span></span></h1>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">July 19, 2023</p>
    </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">January 8, 2024</p>
    </div>
  </div>
    
  </div>
  


</header><p>Non-color aesthetic scales are covered in <a href="02-scales-aes.html" class="quarto-xref">Chapter&nbsp;<span>19</span></a>. Color is used in two aesthetics: <code>color</code> and <code>fill</code>. Like other scales, color scales have five types: continuous, binned, discrete, manual, and identity. All five types have a <code>scale_color_*()</code> function and an equivalent <code>scale_fill_*()</code> function. Most of the example use the <code>scale_color_*()</code> variants, but the concepts are all the same with <code>scale_fill_*()</code>.</p>
<section id="sec-color-resources" class="level2" data-number="18.1"><h2 data-number="18.1" class="anchored" data-anchor-id="sec-color-resources">
<span class="header-section-number">18.1</span> Resources</h2>
<ul>
<li><a href="https://ggplot2.tidyverse.org/reference/index.html#scales">Scales documentation</a></li>
<li><a href="https://rstudio.github.io/cheatsheets/html/data-visualization.html#scales">ggplot2 Cheatsheet: Scales</a></li>
<li><a href="https://scales.r-lib.org/reference/index.html#colour-palettes-colour-mapping">scales package: color</a></li>
<li><a href="https://ggplot2-book.org/scales-colour.html">Wickham, ggplot2 Book: Color scales</a></li>
<li><a href="https://r4ds.hadley.nz/communication.html#scales">R for Data Science: Communication, Scales</a></li>
<li>
<a href="https://rstudio-conf-2022.github.io/ggplot2-graphic-design/modules/d2-04_colors.html">Cédric Scherer, Graphic Design with ggplot2 at RStudio conf 2022: Working with colors</a>
<ul>
<li>See the <a href="./02-ggplot2-rstudioconf-2022.html#sec-rs22-gd-color">notes on the workshop</a>
</li>
</ul>
</li>
<li>
<a href="https://arxiv.org/abs/2303.04918">Zeileis and Murrell, “Coloring in R’s Blind Spot”</a><a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>
</li>
</ul>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://scales.r-lib.org">scales</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://allisonhorst.github.io/palmerpenguins/">palmerpenguins</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Data</span></span>
<span><span class="va">penguins</span> <span class="op">&lt;-</span> <span class="va">penguins</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">flipper_length_mm</span><span class="op">)</span>,</span>
<span>         <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">sex</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="co"># Add factor data that has more levels</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>species_sex <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="va">species</span>, <span class="va">sex</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Base plots</strong></p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pcont</span> <span class="op">&lt;-</span> <span class="va">penguins</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">flipper_length_mm</span>,</span>
<span>             y <span class="op">=</span> <span class="va">body_mass_g</span>,</span>
<span>             color <span class="op">=</span> <span class="va">bill_depth_mm</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"Bill depth"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">pdisc</span> <span class="op">&lt;-</span> <span class="va">penguins</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">flipper_length_mm</span>,</span>
<span>             y <span class="op">=</span> <span class="va">body_mass_g</span>,</span>
<span>             color <span class="op">=</span> <span class="va">species_sex</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="sec-color-fns" class="level2" data-number="18.2"><h2 data-number="18.2" class="anchored" data-anchor-id="sec-color-fns">
<span class="header-section-number">18.2</span> Color functions</h2>
<p>The default color scales are provided to quickly choose a palette type. To manually set colors it is better to use the lower-level functions designed for creating color scales. <code>ggplot2</code> also provides functions to use the popular Color brewer and Viridis sets of color palettes that are designed for discrete and continuous scales respectively.</p>
<section id="sec-color-defaults" class="level3" data-number="18.2.1"><h3 data-number="18.2.1" class="anchored" data-anchor-id="sec-color-defaults">
<span class="header-section-number">18.2.1</span> Default color scales</h3>
<ul>
<li>Continuous scales: <code>type</code> is “gradient” or “viridis”
<ul>
<li><code><a href="https://ggplot2.tidyverse.org/reference/scale_colour_continuous.html">scale_color_continuous()</a></code></li>
<li><code><a href="https://ggplot2.tidyverse.org/reference/scale_colour_continuous.html">scale_fill_continuous()</a></code></li>
</ul>
</li>
<li>Binned scales: <code>type</code> is “gradient” or “viridis”
<ul>
<li><code><a href="https://ggplot2.tidyverse.org/reference/scale_colour_continuous.html">scale_color_binned()</a></code></li>
<li><code><a href="https://ggplot2.tidyverse.org/reference/scale_colour_continuous.html">scale_fill_binned()</a></code></li>
</ul>
</li>
<li>Discrete scales: <code>type</code> is <code><a href="https://ggplot2.tidyverse.org/reference/scale_hue.html">scale_fill_hue()</a></code> or <code><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">scale_color_brewer()</a></code>
<ul>
<li><code><a href="https://ggplot2.tidyverse.org/reference/scale_colour_discrete.html">scale_color_discrete()</a></code></li>
<li><code><a href="https://ggplot2.tidyverse.org/reference/scale_colour_discrete.html">scale_fill_discrete()</a></code></li>
</ul>
</li>
</ul></section><section id="sec-color-scales-create" class="level3" data-number="18.2.2"><h3 data-number="18.2.2" class="anchored" data-anchor-id="sec-color-scales-create">
<span class="header-section-number">18.2.2</span> Creating color scales</h3>
<ul>
<li>Continuous scales: Gradient
<ul>
<li>
<code><a href="https://ggplot2.tidyverse.org/reference/scale_gradient.html">scale_color_gradient()</a></code>: produces a two-color sequential gradient.</li>
<li>
<code><a href="https://ggplot2.tidyverse.org/reference/scale_gradient.html">scale_color_gradient2()</a></code>: produces a three-color diverging gradient with specified midpoint.</li>
<li>
<code><a href="https://ggplot2.tidyverse.org/reference/scale_gradient.html">scale_color_gradientn()</a></code>: produces an n-color gradient. Used to transform a discrete color palette—often from a color palette package—to a continuous color palette.</li>
</ul>
</li>
<li>Binned scales: Binned variants of gradient scales that work in the same way
<ul>
<li><code><a href="https://ggplot2.tidyverse.org/reference/scale_steps.html">scale_color_steps()</a></code></li>
<li><code><a href="https://ggplot2.tidyverse.org/reference/scale_steps.html">scale_color_steps2()</a></code></li>
<li><code><a href="https://ggplot2.tidyverse.org/reference/scale_steps.html">scale_color_stepsn()</a></code></li>
</ul>
</li>
<li>Discrete scales
<ul>
<li><code><a href="https://ggplot2.tidyverse.org/reference/scale_hue.html">scale_color_hue()</a></code></li>
<li><code>scale_color_grey(start = 0.2, end = 0.8)</code></li>
</ul>
</li>
<li>Manual scales
<ul>
<li><code><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual()</a></code></li>
</ul>
</li>
<li>Identity scales
<ul>
<li><code><a href="https://ggplot2.tidyverse.org/reference/scale_identity.html">scale_color_identity()</a></code></li>
</ul>
</li>
</ul></section><section id="sec-color-brewer" class="level3" data-number="18.2.3"><h3 data-number="18.2.3" class="anchored" data-anchor-id="sec-color-brewer">
<span class="header-section-number">18.2.3</span> Color brewer scales</h3>
<p><a href="https://colorbrewer2.org/">Color brewer</a>: sequential, diverging and qualitative color schemes designed for use on discrete values on a map. They are designed for <strong>discrete scales</strong>.</p>
<ul>
<li>Standard discrete color brewer scales
<ul>
<li><code><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">scale_color_brewer()</a></code></li>
<li><code><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">scale_fill_brewer()</a></code></li>
</ul>
</li>
<li>Continuous scale
<ul>
<li><code><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">scale_color_distiller()</a></code></li>
<li><code><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">scale_fill_distiller()</a></code></li>
</ul>
</li>
<li>Binned scale
<ul>
<li><code><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">scale_color_fermenter()</a></code></li>
<li><code><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">scale_fill_fermenter()</a></code></li>
</ul>
</li>
<li>Types of scales: <code>type</code>
<ul>
<li>“seq” (sequential), “div” (diverging), or “qual” (qualitative)</li>
</ul>
</li>
<li>Palettes: <code>palette</code>
<ul>
<li>
<strong>Diverging</strong>: BrBG, PiYG, PRGn, PuOr, RdBu, RdGy, RdYlBu, RdYlGn, Spectral</li>
<li>
<strong>Qualitative</strong>: Accent, Dark2, Paired, Pastel1, Pastel2, Set1, Set2, Set3</li>
<li>
<strong>Sequential</strong>: Blues, BuGn, BuPu, GnBu, Greens, Greys, Oranges, OrRd, PuBu, PuBuGn, PuRd, Purples, RdPu, Reds, YlGn, YlGnBu, YlOrBr, YlOrRd</li>
</ul>
</li>
</ul></section><section id="sec-color-viridis" class="level3" data-number="18.2.4"><h3 data-number="18.2.4" class="anchored" data-anchor-id="sec-color-viridis">
<span class="header-section-number">18.2.4</span> Viridis scales</h3>
<p>The viridis scales provide color palettes that are perceptually uniform in both color and black-and-white. They are also designed to be perceived by viewers with common forms of color blindness. They are particularly good for <strong>continuous scales</strong>.</p>
<ul>
<li>Continuous scales
<ul>
<li><code><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html">scale_color_viridis_c()</a></code></li>
<li><code><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html">scale_fill_viridis_c()</a></code></li>
</ul>
</li>
<li>Binned scales
<ul>
<li><code><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html">scale_color_viridis_b()</a></code></li>
<li><code><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html">scale_fill_viridis_b()</a></code></li>
</ul>
</li>
<li>Discrete scales
<ul>
<li><code><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html">scale_color_viridis_d()</a></code></li>
<li><code><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html">scale_fill_viridis_d()</a></code></li>
</ul>
</li>
<li>Palette options: <code>option</code>
<ul>
<li>“magma” (or “A”), “inferno” (or “B”), “plasma” (or “C”), “viridis” (or “D”), “cividis” (or “E”), “rocket” (or “F”), “mako” (or “G”), “turbo” (or “H”)</li>
</ul>
</li>
</ul></section></section><section id="sec-color-scale-types" class="level2" data-number="18.3"><h2 data-number="18.3" class="anchored" data-anchor-id="sec-color-scale-types">
<span class="header-section-number">18.3</span> ggplot2 color scales</h2>
<p>Colors have the same types of scales as the other scales: continuous, binned, discrete, manual, identity and date.</p>
<section id="sec-color-cont" class="level3" data-number="18.3.1"><h3 data-number="18.3.1" class="anchored" data-anchor-id="sec-color-cont">
<span class="header-section-number">18.3.1</span> Continuous color scales</h3>
<section id="default-continuous-scale" class="level4"><h4 class="anchored" data-anchor-id="default-continuous-scale">Default continuous scale</h4>
<p>The default scale for continuous color scales is <code><a href="https://ggplot2.tidyverse.org/reference/scale_colour_continuous.html">scale_color_continuous()</a></code>, which defaults to using <code><a href="https://ggplot2.tidyverse.org/reference/scale_gradient.html">scale_color_gradient()</a></code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pcont</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_colour_continuous.html">scale_color_continuous</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">pcont</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_gradient.html">scale_color_gradient</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="02-scales-color_files/figure-html/continuous-default-1.png" class="img-fluid" width="576"></p>
</div>
</div>
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="02-scales-color_files/figure-html/continuous-default-2.png" class="img-fluid" width="576"></p>
</div>
</div>
</div>
</section><section id="gradient-continuous-scales" class="level4"><h4 class="anchored" data-anchor-id="gradient-continuous-scales">Gradient continuous scales</h4>
<p>To create your own continuous color scale use the gradient functions. There are three gradient functions that create two-color <strong>sequential</strong>, <strong>diverging</strong>, and <strong>n-color</strong> gradients.</p>
<p><code><a href="https://ggplot2.tidyverse.org/reference/scale_gradient.html">scale_color_gradient()</a></code> takes colors for the <code>low</code> and <code>high</code> values to create a gradient sequentially moving from one color to the other.</p>
<div class="cell">
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pcont</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_gradient.html">scale_color_gradient</a></span><span class="op">(</span></span>
<span>    low <span class="op">=</span> <span class="st">"#E5940E"</span>,</span>
<span>    high <span class="op">=</span> <span class="st">"#454B87"</span></span>
<span>  <span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/gradient-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<p><code><a href="https://ggplot2.tidyverse.org/reference/scale_gradient.html">scale_color_gradient2()</a></code> adds an argument for <code>mid</code> to create a midpoint to be used in a diverging scale and <code>midpoint</code> for the value used as the middle of the scale. <code>midpoint</code> defaults to 0, so you will likely need to specify it. The default uses a muted red and blue for low and high values and white for the midpoint.</p>
<div class="cell">
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pcont</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_gradient.html">scale_color_gradient2</a></span><span class="op">(</span></span>
<span>    midpoint <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">penguins</span><span class="op">$</span><span class="va">bill_depth_mm</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/gradient2-defualt-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<p>Create your own diverging gradient by providing <code>low</code>, <code>mid</code>, and <code>high</code>.</p>
<div class="cell">
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pcont</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_gradient.html">scale_color_gradient2</a></span><span class="op">(</span></span>
<span>    low <span class="op">=</span> <span class="st">"#E5940E"</span>,</span>
<span>    mid <span class="op">=</span> <span class="st">"white"</span>,</span>
<span>    high <span class="op">=</span> <span class="st">"#454B87"</span>,</span>
<span>    midpoint <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">penguins</span><span class="op">$</span><span class="va">bill_depth_mm</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/gradient2-custom-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<p><code><a href="https://ggplot2.tidyverse.org/reference/scale_gradient.html">scale_color_gradientn()</a></code> creates an n-colored gradient. The function needs a vector of <code>colors</code> to work, and the <code>colors</code> argument must be named. You can provide your own color palette, a palette using the <code>scales::*_pal()</code> functions, a base R color palette, or one from a color palette package. When using predefined color palettes, the colors used for the gradient may change depending on the number of colors used to create the palette if the palette is dynamic. For instance, notice the difference in the gradient created with 6 vs 25 terrain colors: the changes across the gradient are more subtle with 25 colors.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># 6 terrain color gradient</span></span>
<span><span class="va">pcont</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_gradient.html">scale_color_gradientn</a></span><span class="op">(</span></span>
<span>    colors <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html">terrain.colors</a></span><span class="op">(</span><span class="fl">6</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># 25 terrain color gradient</span></span>
<span><span class="va">pcont</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_gradient.html">scale_color_gradientn</a></span><span class="op">(</span></span>
<span>    colors <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html">terrain.colors</a></span><span class="op">(</span><span class="fl">25</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/grandientn-terrain6-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/grandientn-terrain25-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<p><code><a href="https://ggplot2.tidyverse.org/reference/scale_gradient.html">scale_color_gradientn()</a></code> is important for transforming a discrete palette into a continuous palette. This makes it the primary way to use color packages with a continuous color scale.</p>
</section><section id="color-brewer-continuous-scales" class="level4"><h4 class="anchored" data-anchor-id="color-brewer-continuous-scales">Color brewer continuous scales</h4>
<p><code><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">scale_color_distiller()</a></code> provides continuous color scales using the Color Brewer palettes that are designed for discrete data. Use the <code>type</code> argument to choose between sequential <code>"seq"</code>, diverging <code>"div"</code>, and qualitative <code>"qual"</code> palettes. This is a quick way to choose the default palette for each type and can be used with the numerical manner for choosing a palette. Or just write the name of the palette in the <code>palette</code> argument.</p>
<p><strong>Sequential</strong></p>
<div class="cell">
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pcont</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">scale_color_distiller</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/brewer-distiller-seq-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<p><strong>Diverging</strong></p>
<div class="cell">
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pcont</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">scale_color_distiller</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"PuOr"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/brewer-distiller-div-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<p><strong>Qualitative: n-gradient</strong></p>
<div class="cell">
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pcont</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">scale_color_distiller</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"Set1"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/brewer-distiller-qual-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</section><section id="viridis-continuous-scales" class="level4"><h4 class="anchored" data-anchor-id="viridis-continuous-scales">Viridis continuous scales</h4>
<p>The viridis colors are the most well suited to a continuous scale among the built in <code>ggplot2</code> color scales. They are designed to be perceptually uniform in both color and when reduced to black and white, and to be perceptible to people with various forms of color blindness.</p>
<p>You can access the viridis palette from <code><a href="https://ggplot2.tidyverse.org/reference/scale_colour_continuous.html">scale_color_continuous()</a></code></p>
<div class="cell">
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pcont</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_colour_continuous.html">scale_color_continuous</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"viridis"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/scale-continuous-viridis-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<p>Or use <code><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html">scale_color_viridis_c()</a></code>, which provides more options, including the ability to choose among the 8 viridis palettes.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pcont</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html">scale_color_viridis_c</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">pcont</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html">scale_color_viridis_c</a></span><span class="op">(</span>option <span class="op">=</span> <span class="st">"A"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/viridis-cont-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/viridis-cont-magma-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</section><section id="date-color-scales" class="level4"><h4 class="anchored" data-anchor-id="date-color-scales">Date color scales</h4>
<p><code><a href="https://ggplot2.tidyverse.org/reference/scale_gradient.html">scale_color_date()</a></code> is a special form of continuous color scales. It is only different in that it provides access to the <code>date_breaks</code> and <code>date_labels</code> arguments used in date scales as discussed in <a href="02-scales-position.html#sec-scale-label-date" class="quarto-xref"><span>Section 17.5.2.6</span></a>.</p>
</section></section><section id="sec-color-bin" class="level3" data-number="18.3.2"><h3 data-number="18.3.2" class="anchored" data-anchor-id="sec-color-bin">
<span class="header-section-number">18.3.2</span> Binned color scales</h3>
<p>Binned color scales take continuous data and map them into bins. The default binned color scale is <code><a href="https://ggplot2.tidyverse.org/reference/scale_colour_continuous.html">scale_color_binned()</a></code>, which in turn defaults to <code><a href="https://ggplot2.tidyverse.org/reference/scale_steps.html">scale_color_steps()</a></code>. The <code><a href="https://ggplot2.tidyverse.org/reference/scale_steps.html">scale_color_steps()</a></code> family of functions are analogous to the <code><a href="https://ggplot2.tidyverse.org/reference/scale_gradient.html">scale_color_gradient()</a></code> family of functions other than providing a <code>n.breaks</code> argument from <a href="https://ggplot2.tidyverse.org/reference/binned_scale.html">binned scales</a>. Another difference from gradients is the use of the <code>colorsteps</code> style legend instead of <code>colorbar</code>.</p>
<section id="default-binned-scale" class="level4"><h4 class="anchored" data-anchor-id="default-binned-scale">Default binned scale</h4>
<div class="cell">
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pcont</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_colour_continuous.html">scale_color_binned</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/binned-color-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</section><section id="color-steps" class="level4"><h4 class="anchored" data-anchor-id="color-steps">Color steps</h4>
<p>Use the <code><a href="https://ggplot2.tidyverse.org/reference/scale_steps.html">scale_color_steps()</a></code> functions to get sequential, diverging, and qualitative bins.</p>
<p><strong>Sequential</strong></p>
<div class="cell">
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pcont</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_steps.html">scale_color_steps</a></span><span class="op">(</span></span>
<span>    low <span class="op">=</span> <span class="st">"#E5940E"</span>,</span>
<span>    high <span class="op">=</span> <span class="st">"#454B87"</span></span>
<span>  <span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/steps-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<p><strong>Diverging</strong></p>
<div class="cell">
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pcont</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_steps.html">scale_color_steps2</a></span><span class="op">(</span></span>
<span>    n.breaks <span class="op">=</span> <span class="fl">8</span>,</span>
<span>    low <span class="op">=</span> <span class="st">"#E5940E"</span>,</span>
<span>    mid <span class="op">=</span> <span class="st">"white"</span>,</span>
<span>    high <span class="op">=</span> <span class="st">"#454B87"</span>,</span>
<span>    midpoint <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">penguins</span><span class="op">$</span><span class="va">bill_depth_mm</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/steps2-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<p><strong>Qualitative</strong></p>
<p>As with <code><a href="https://ggplot2.tidyverse.org/reference/scale_gradient.html">scale_color_gradientn()</a></code> the number of colors used to create the palette may change the colors used for the bins.</p>
<div class="cell">
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pcont</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_steps.html">scale_color_stepsn</a></span><span class="op">(</span></span>
<span>    colors <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html">terrain.colors</a></span><span class="op">(</span><span class="fl">6</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/stepsn-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</section><section id="viridis-and-color-brewer" class="level4"><h4 class="anchored" data-anchor-id="viridis-and-color-brewer">Viridis and color brewer</h4>
<p>The binned versions of the viridis and color brewer palettes work in the same way as <code><a href="https://ggplot2.tidyverse.org/reference/scale_steps.html">scale_color_steps()</a></code> with the <code>n.breaks</code> argument and their continuous variants.</p>
<p><strong>Color brewer</strong></p>
<p><code><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">scale_color_fermenter()</a></code> has the same ability to pick a <code>type</code> and <code>palette</code>:</p>
<div class="cell">
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pcont</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">scale_color_fermenter</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"Oranges"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/brewer-fermenter-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<p><strong>Viridis</strong></p>
<p><code><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html">scale_color_viridis_b()</a></code> has the same ability to pick a palette <code>option</code>:</p>
<div class="cell">
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pcont</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html">scale_color_viridis_b</a></span><span class="op">(</span>option <span class="op">=</span> <span class="st">"A"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/viridis-bin-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</section></section><section id="sec-color-disc" class="level3" data-number="18.3.3"><h3 data-number="18.3.3" class="anchored" data-anchor-id="sec-color-disc">
<span class="header-section-number">18.3.3</span> Discrete color scales</h3>
<section id="default-discrete-scale" class="level4"><h4 class="anchored" data-anchor-id="default-discrete-scale">Default discrete scale</h4>
<p>The default scale for discrete color scales is <code><a href="https://ggplot2.tidyverse.org/reference/scale_colour_discrete.html">scale_color_discrete()</a></code>, which defaults to using <code><a href="https://ggplot2.tidyverse.org/reference/scale_hue.html">scale_color_hue()</a></code>.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pdisc</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_colour_discrete.html">scale_color_discrete</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">pdisc</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_hue.html">scale_color_hue</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/discrete-default-1-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/discrete-default-2-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<p>Use <code><a href="https://scales.r-lib.org/reference/pal_hue.html">scales::hue_pal()</a></code> to recreate or access the discrete color palette used for a plot. Making sure to use the length of the discrete colors, as the colors used changes with the length of the palette.</p>
<div class="cell">
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Palette used for pdisc</span></span>
<span><span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/pal_hue.html">hue_pal</a></span><span class="op">(</span><span class="op">)</span><span class="op">(</span><span class="fl">6</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "#F8766D" "#B79F00" "#00BA38" "#00BFC4" "#619CFF" "#F564E3"</span></span>
<span><span class="fu"><a href="https://scales.r-lib.org/reference/show_col.html">show_col</a></span><span class="op">(</span><span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/pal_hue.html">hue_pal</a></span><span class="op">(</span><span class="op">)</span><span class="op">(</span><span class="fl">6</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/find-discrete-pal-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<p>This can be used with <code><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual()</a></code> to color a subset of the groups. See the discussion in <a href="./02-annotations.html#sec-ann-highlight-color">Annotations: Highlighting</a> and below <a href="#sec-color-manual" class="quarto-xref"><span>Section 18.3.4</span></a>.</p>
</section><section id="hcl-color-scale" class="level4"><h4 class="anchored" data-anchor-id="hcl-color-scale">HCL color scale</h4>
<p><code><a href="https://ggplot2.tidyverse.org/reference/scale_hue.html">scale_color_hue()</a></code> provides access to HCL colors directly within <code>ggplot2</code>. The default color scheme picks evenly spaced hues around the HCL color wheel. The functions do not produce color blind compatible palettes.</p>
<ul>
<li>
<strong>Hue</strong>: Color on a range from 0 to 360 (an angle).</li>
<li>
<strong>Chroma</strong>: Purity of a color, ranging from 0 (grey) to a maximum that varies with luminance.</li>
<li>
<strong>Luminance</strong>: Lightness of the color, ranging from 0 (black) to 1 (white).</li>
</ul>
<p><code><a href="https://ggplot2.tidyverse.org/reference/scale_hue.html">scale_color_hue()</a></code> provides arguments to customize each of these aspects:</p>
<ul>
<li>
<code>h</code>: Range of hues to use between 0 and 360; default is <code>c(0, 360) + 15</code>
</li>
<li>
<code>h.start</code>: What hue to start at. This can affect the colors, or just the order of the colors if the angle chosen is a product of the number of discrete variables divided by 360. For instance, <code>pdisc</code> has six levels, so <code>h.start = 60</code> uses the same colors as the default but moves the order of the colors up one. On the other hand, <code>h.start = 45</code> changes the colors used because 45 x 6 is not 360.</li>
<li>
<code>c</code>: Chroma value; default is <code>100</code>. Higher values leader to brighter colors, lower values lead to more muted colors.</li>
<li>
<code>l</code>: Lightness of the color from 0 to 100; default is 65. Higher values lead to more white, light colors, lower values lead to darker colors.</li>
</ul>
<p><strong>Hue</strong>: compare using only the third-fourth of the color wheel (left) to the default that uses all of it (right).</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Use smaller part of wheel</span></span>
<span><span class="va">pdisc</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_hue.html">scale_color_hue</a></span><span class="op">(</span>h <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">180</span>, <span class="fl">270</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># Default: whole wheel</span></span>
<span><span class="va">pdisc</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_hue.html">scale_color_hue</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/hue-hue-1-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/hue-hue-2-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<p><strong>h.start</strong>: compare changing the order of the colors (left) to changing the colors used (right).</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Move order of colors up 1</span></span>
<span><span class="va">pdisc</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_hue.html">scale_color_hue</a></span><span class="op">(</span>h.start <span class="op">=</span>  <span class="fl">60</span><span class="op">)</span></span>
<span><span class="co"># Change colors used</span></span>
<span><span class="va">pdisc</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_hue.html">scale_color_hue</a></span><span class="op">(</span>h.start <span class="op">=</span> <span class="fl">30</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/hue-h.start-1-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/hue-h.start-2-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<p><strong>Chroma</strong>: compare the muted colors with a lower chroma (left) to the almost neon colors with a higher chroma (right).</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Low chroma: Muted</span></span>
<span><span class="va">pdisc</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_hue.html">scale_color_hue</a></span><span class="op">(</span>c <span class="op">=</span> <span class="fl">50</span><span class="op">)</span></span>
<span><span class="co"># High chroma: Bright</span></span>
<span><span class="va">pdisc</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_hue.html">scale_color_hue</a></span><span class="op">(</span>c <span class="op">=</span> <span class="fl">150</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/hue-c1-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/hue-c2-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<p><strong>Lightness</strong>: compare the darker colors with lower lightness (left) to the brighter pastel-like colors with higher lightness (right).</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Lower l: Dark</span></span>
<span><span class="va">pdisc</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_hue.html">scale_color_hue</a></span><span class="op">(</span>l <span class="op">=</span> <span class="fl">40</span><span class="op">)</span></span>
<span><span class="co"># Higher l: Light</span></span>
<span><span class="va">pdisc</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_hue.html">scale_color_hue</a></span><span class="op">(</span>l <span class="op">=</span> <span class="fl">85</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/hue-l1-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/hue-l2-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</section><section id="gray-color-scale" class="level4"><h4 class="anchored" data-anchor-id="gray-color-scale">Gray color scale</h4>
<p><code><a href="https://ggplot2.tidyverse.org/reference/scale_hue.html">scale_color_hue()</a></code> uses colors that have the same chroma (<code>c</code>) and luminance (<code>l</code>) and so they appear as the same shade of gray when printed in black and white. If you are making plots that will be in black and white it is best to use <code><a href="https://ggplot2.tidyverse.org/reference/scale_grey.html">scale_color_grey()</a></code> (note the British spelling), which is base on <code><a href="https://rdrr.io/r/grDevices/gray.colors.html">gray.colors()</a></code>. The main arguments are <code>start</code> and <code>end</code>: limits on a scale of 0 (black) to 1 (white); the defaults are <code>start = 0.2</code> and <code>end = 0.8</code>. It is probably best not to use a gray background.</p>
<div class="cell">
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pdisc</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_grey.html">scale_color_grey</a></span><span class="op">(</span>start <span class="op">=</span> <span class="fl">0</span>, end <span class="op">=</span> <span class="fl">0.7</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/grays-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</section><section id="color-brewer-and-viridis" class="level4"><h4 class="anchored" data-anchor-id="color-brewer-and-viridis">Color brewer and viridis</h4>
<p>Whereas the viridis palettes are best suited for continuous scales, color brewer is designed specifically for discrete scales. For ordered discrete values the sequential (“seq”) palettes are useful, while unordered categorical data is best visualized with the qualitative (“qual”) palettes. “Set1” and “Dark2” are particularly good for points, and “Set2”, “Pastel1”, “Pastel2” and “Accent” work well for areas.</p>
<div class="cell">
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pdisc</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">scale_color_brewer</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"Dark2"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/color-brewer-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<p><code><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html">scale_color_viridis_d()</a></code> provides the same set of viridis palettes in a discrete scale:</p>
<div class="cell">
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pdisc</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html">scale_color_viridis_d</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/viridis-discrete-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</section></section><section id="sec-color-manual" class="level3" data-number="18.3.4"><h3 data-number="18.3.4" class="anchored" data-anchor-id="sec-color-manual">
<span class="header-section-number">18.3.4</span> Manual and identity scales</h3>
<p>Manually setting colors for discrete data can be useful if you want to quickly create your own palette, or if you want to choose colors that have a specific relationship to the data, such as blue for democrat and red for republican in a voting map. For instance, you can group together the penguin species with similar colors and use darker colors for male and lighter for female.</p>
<p>The colors are chosen using the <code>values</code> argument which can either be a vector of colors or a named vector of colors that corresponds to the levels of the data. <code><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual()</a></code> is the primary way within the <code>ggplot2</code> package to get access to discrete palettes provided by other color packages: <code>scale_color_manual(values = palette)</code>, see <a href="#sec-color-pkgs" class="quarto-xref"><span>Section 18.5</span></a>.</p>
<div class="cell">
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pdisc</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span></span>
<span>    values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"chocolate"</span>, <span class="st">"chocolate1"</span>,</span>
<span>               <span class="st">"dodgerblue4"</span>, <span class="st">"dodgerblue"</span>,</span>
<span>               <span class="st">"seagreen"</span>, <span class="st">"seagreen3"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/manual-vector-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<p>A named vector makes the color mapping more clear. This can be done outside or inside the <code><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual()</a></code> function.</p>
<div class="cell">
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pdisc</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span></span>
<span>    values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>      <span class="st">"Adelie female"</span>    <span class="op">=</span> <span class="st">"chocolate"</span>,</span>
<span>      <span class="st">"Adelie male"</span>      <span class="op">=</span> <span class="st">"chocolate1"</span>,</span>
<span>      <span class="st">"Chinstrap female"</span> <span class="op">=</span> <span class="st">"dodgerblue4"</span>,</span>
<span>      <span class="st">"Chinstrap male"</span>   <span class="op">=</span> <span class="st">"dodgerblue"</span>,</span>
<span>      <span class="st">"Gentoo female"</span>    <span class="op">=</span> <span class="st">"seagreen"</span>,</span>
<span>      <span class="st">"Gentoo male"</span>      <span class="op">=</span> <span class="st">"seagreen3"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/manual-named-vector-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<p>A common workflow for using <code><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual()</a></code> is to color a subset of discrete groups using the same color scale that would be used for all groups. This is the basis for highlighting groups or certain instances shown in <a href="./02-annotations.html#sec-ann-highlight-color">Annotations: Highlighting</a>. This is done by taking a subset of the discrete palette constructor <code><a href="https://scales.r-lib.org/reference/pal_hue.html">scales::hue_pal()</a></code> discussed in <a href="#sec-color-disc" class="quarto-xref"><span>Section 18.3.3</span></a>. For instance, we can color only the male penguins but maintain the same color palette as used in <code>pdisc</code>. Compare the use of the default palette to maintaining the palette used when there are six groups.</p>
<div class="cell">
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Default discrete scale</span></span>
<span><span class="va">penguins</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">flipper_length_mm</span>,</span>
<span>             y <span class="op">=</span> <span class="va">body_mass_g</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"gray60"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>data <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">penguins</span>, <span class="va">sex</span> <span class="op">==</span> <span class="st">"male"</span><span class="op">)</span>,</span>
<span>             <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="va">species</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"Males"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/subset-disc-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Use same color scale as pdisc</span></span>
<span><span class="va">penguins</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">flipper_length_mm</span>,</span>
<span>             y <span class="op">=</span> <span class="va">body_mass_g</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"gray60"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>data <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">penguins</span>, <span class="va">sex</span> <span class="op">==</span> <span class="st">"male"</span><span class="op">)</span>,</span>
<span>             <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="va">species</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span><span class="st">"Males"</span>,</span>
<span>                     values <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/pal_hue.html">hue_pal</a></span><span class="op">(</span><span class="op">)</span><span class="op">(</span><span class="fl">6</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">6</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/subset-disc-manual-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<p><code><a href="https://ggplot2.tidyverse.org/reference/scale_identity.html">scale_color_identity()</a></code> works similarly, but the colors to be used are in the data frame.</p>
</section></section><section id="sec-color-guides" class="level2" data-number="18.4"><h2 data-number="18.4" class="anchored" data-anchor-id="sec-color-guides">
<span class="header-section-number">18.4</span> Labels, breaks, and legends</h2>
<p>Just as with the scales described in <a href="02-scales-aes.html" class="quarto-xref"><span>Chapter 19</span></a> you can change the breaks and labels of scales and how they are expressed in legends using the <code>scale_color_*()</code> functions. For more on the look of legends, see <a href="02-guides.html#sec-guide-bar-vs-steps" class="quarto-xref"><span>Section 21.4.2</span></a> on choosing the type of legend and <a href="02-guides.html#sec-guide-color" class="quarto-xref"><span>Section 21.8.2</span></a> for styling color legends.</p>
<p>Change the breaks and reverse the colorbar.</p>
<div class="cell">
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pcont</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_colour_continuous.html">scale_color_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">15</span>, <span class="fl">17</span>, <span class="fl">21</span><span class="op">)</span>,</span>
<span>                         guide <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guide_colourbar.html">guide_colorbar</a></span><span class="op">(</span>reverse <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/color-breaks-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<p>Create a legend that only shows the colors of females of the three species.</p>
<div class="cell">
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pdisc</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_colour_discrete.html">scale_color_discrete</a></span><span class="op">(</span></span>
<span>    <span class="st">"Females"</span>,</span>
<span>    breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Adelie female"</span>, <span class="st">"Chinstrap female"</span>, <span class="st">"Gentoo female"</span><span class="op">)</span>,</span>
<span>    labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Adelie"</span>, <span class="st">"Chinstrap"</span>, <span class="st">"Gentoo"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/color-labels-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</section><section id="sec-color-pkgs" class="level2" data-number="18.5"><h2 data-number="18.5" class="anchored" data-anchor-id="sec-color-pkgs">
<span class="header-section-number">18.5</span> Color palette packages</h2>
<ul>
<li><a href="https://mccarthy-m-g.github.io/palettes">palettes</a></li>
<li><a href="http://colorspace.r-forge.r-project.org">colorspace</a></li>
<li><a href="https://github.com/thomasp85/scico">scico</a></li>
<li><a href="https://nanx.me/ggsci/">ggsci</a></li>
<li><a href="https://jrnold.github.io/ggthemes/">ggthemes</a></li>
<li><a href="https://jakubnowosad.com/rcartocolor/">rcartocolor</a></li>
<li><a href="https://cran.r-project.org/web/packages/MetBrewer/index.html">MetBrewer</a></li>
<li><a href="https://emilhvitfeldt.github.io/paletteer/">paletteer</a></li>
</ul>
<p><strong>Load packages</strong></p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode" id="cb34"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://colorspace.R-Forge.R-project.org/">colorspace</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/thomasp85/scico">scico</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://nanx.me/ggsci/">ggsci</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jrnold/ggthemes">ggthemes</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/Nowosad/rcartocolor">rcartocolor</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">MetBrewer</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/EmilHvitfeldt/paletteer">paletteer</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://mccarthy-m-g.github.io/palettes/">palettes</a></span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="sec-color-pkgs-overview" class="level3" data-number="18.5.1"><h3 data-number="18.5.1" class="anchored" data-anchor-id="sec-color-pkgs-overview">
<span class="header-section-number">18.5.1</span> Overview</h3>
<p>Most color palette packages have two main types of functions: <strong>scale</strong> functions that are usually named <code>scale_color_*()</code> and are meant to replace the <code>ggplot2</code> scale functions and <strong>pal</strong> functions that provide access to the hex values of palettes that can then be used with <code><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual()</a></code> or <code><a href="https://ggplot2.tidyverse.org/reference/scale_gradient.html">scale_color_gradientn()</a></code> to create a continuous palette. The API for accessing these functions differs. This has led to the creation of <code>paletteer</code> (<a href="#sec-color-paletteer" class="quarto-xref"><span>Section 18.5.11</span></a>) to try to create a common interface for palettes.</p>
<p>Most of the color packages have functions to list the name of the available palettes and to view the palettes as a plot. A particularly useful way to view a palette before using it is with <code><a href="https://scales.r-lib.org/reference/show_col.html">scales::show_col()</a></code>.</p>
</section><section id="sec-solor-palettes-pkg" class="level3" data-number="18.5.2"><h3 data-number="18.5.2" class="anchored" data-anchor-id="sec-solor-palettes-pkg">
<span class="header-section-number">18.5.2</span> palettes pkg</h3>
<p>A fun, quick alternative to <code><a href="https://scales.r-lib.org/reference/show_col.html">scales::show_col()</a></code> is to use the <code>palettes</code> package, which uses <code>vctrs</code> to print vectors of colors as hex rbg values with a color preview. <code>palettes</code> has its own way to access color palettes in <code>ggplot2</code>, but it is particularly useful for printing out a vector of colors with <code><a href="https://mccarthy-m-g.github.io/palettes/reference/pal_colour.html">pal_color()</a></code>.</p>
<div class="cell">
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://mccarthy-m-g.github.io/palettes/reference/pal_colour.html">pal_color</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"#a00e00"</span>, <span class="st">"#d04e00"</span>, <span class="st">"#f6c200"</span>, <span class="st">"#0086a8"</span>, <span class="st">"#132b69"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; &lt;palettes_colour[5]&gt;</span></span>
<span><span class="co">#&gt; • #A00E00</span></span>
<span><span class="co">#&gt; • #D04E00</span></span>
<span><span class="co">#&gt; • #F6C200</span></span>
<span><span class="co">#&gt; • #0086A8</span></span>
<span><span class="co">#&gt; • #132B69</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="sec-color-scales-pkg" class="level3" data-number="18.5.3"><h3 data-number="18.5.3" class="anchored" data-anchor-id="sec-color-scales-pkg">
<span class="header-section-number">18.5.3</span> Scales pkg</h3>
<p><code>scales</code> provides a number of functions to <a href="https://scales.r-lib.org/reference/index.html#colour-palettes-colour-mapping">specify palettes and perform color mapping</a> that provide the basis for the color scale functions in <code>ggplot2</code>. The <code>*_pal()</code> functions have consistent APIs with their associated <code>scale_color_*()</code> variants in <code>ggplot2</code>. The <code>*_pal()</code> functions all return a function. Thus, to access the hex color values you need to add another set of parentheses: <strong>discrete</strong> palettes take an <code>n</code>, while <strong>continuous</strong> palettes take a vector of values from 0 to 1 that produce <code>length(x)</code> colors.</p>
<p>Once you have a palette, you can view the colors with <code><a href="https://scales.r-lib.org/reference/show_col.html">scales::show_col()</a></code>. This provides a good workflow to view the color palette and make any changes you want.</p>
<section id="discrete-palettes" class="level4"><h4 class="anchored" data-anchor-id="discrete-palettes">Discrete palettes</h4>
<ul>
<li><code><a href="https://scales.r-lib.org/reference/pal_brewer.html">brewer_pal()</a></code></li>
<li><code><a href="https://scales.r-lib.org/reference/pal_viridis.html">viridis_pal()</a></code></li>
<li><code><a href="https://scales.r-lib.org/reference/pal_hue.html">hue_pal()</a></code></li>
<li><code><a href="https://scales.r-lib.org/reference/pal_grey.html">grey_pal()</a></code></li>
<li>
<code><a href="https://scales.r-lib.org/reference/pal_dichromat.html">dichromat_pal()</a></code>: color-blind discrete palettes</li>
</ul>
<p>Discrete palette constructors use the form <code>*_pal()(n)</code>:</p>
<div class="cell">
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://scales.r-lib.org/reference/pal_brewer.html">brewer_pal</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"Oranges"</span><span class="op">)</span><span class="op">(</span><span class="fl">9</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "#FFF5EB" "#FEE6CE" "#FDD0A2" "#FDAE6B" "#FD8D3C" "#F16913" "#D94801"</span></span>
<span><span class="co">#&gt; [8] "#A63603" "#7F2704"</span></span>
<span><span class="fu"><a href="https://scales.r-lib.org/reference/show_col.html">show_col</a></span><span class="op">(</span><span class="fu"><a href="https://scales.r-lib.org/reference/pal_brewer.html">brewer_pal</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"Oranges"</span><span class="op">)</span><span class="op">(</span><span class="fl">9</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/brewer-pal-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<p><code><a href="https://scales.r-lib.org/reference/pal_hue.html">hue_pal()</a></code> and <code><a href="https://scales.r-lib.org/reference/show_col.html">show_col()</a></code> provide a good way to play around with HCL colors and see what changes to hue, chroma, and luminance does.</p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://scales.r-lib.org/reference/show_col.html">show_col</a></span><span class="op">(</span><span class="fu"><a href="https://scales.r-lib.org/reference/pal_hue.html">hue_pal</a></span><span class="op">(</span><span class="op">)</span><span class="op">(</span><span class="fl">9</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://scales.r-lib.org/reference/show_col.html">show_col</a></span><span class="op">(</span><span class="fu"><a href="https://scales.r-lib.org/reference/pal_hue.html">hue_pal</a></span><span class="op">(</span>h <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">120</span><span class="op">)</span><span class="op">)</span><span class="op">(</span><span class="fl">9</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://scales.r-lib.org/reference/show_col.html">show_col</a></span><span class="op">(</span><span class="fu"><a href="https://scales.r-lib.org/reference/pal_hue.html">hue_pal</a></span><span class="op">(</span>c <span class="op">=</span> <span class="fl">60</span><span class="op">)</span><span class="op">(</span><span class="fl">9</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://scales.r-lib.org/reference/show_col.html">show_col</a></span><span class="op">(</span><span class="fu"><a href="https://scales.r-lib.org/reference/pal_hue.html">hue_pal</a></span><span class="op">(</span>l <span class="op">=</span> <span class="fl">90</span><span class="op">)</span><span class="op">(</span><span class="fl">9</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/hue-pal-1-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/hue-pal-2-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</div>
<div class="quarto-layout-row">
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/hue-pal-3-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/hue-pal-4-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<p><code><a href="https://scales.r-lib.org/reference/pal_grey.html">grey_pal()</a></code> is the same as <code><a href="https://rdrr.io/r/grDevices/gray.colors.html">grey.colors()</a></code> though it uses different starting and ending points.</p>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://scales.r-lib.org/reference/show_col.html">show_col</a></span><span class="op">(</span><span class="fu"><a href="https://scales.r-lib.org/reference/pal_grey.html">grey_pal</a></span><span class="op">(</span><span class="op">)</span><span class="op">(</span><span class="fl">16</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://scales.r-lib.org/reference/show_col.html">show_col</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/grDevices/gray.colors.html">grey.colors</a></span><span class="op">(</span><span class="fl">16</span>, <span class="fl">0.2</span>, <span class="fl">0.8</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/grey-pal-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/grey-colors-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</section><section id="continuous-palettes" class="level4"><h4 class="anchored" data-anchor-id="continuous-palettes">Continuous palettes</h4>
<ul>
<li><code><a href="https://scales.r-lib.org/reference/pal_seq_gradient.html">seq_gradient_pal()</a></code></li>
<li><code><a href="https://scales.r-lib.org/reference/pal_div_gradient.html">div_gradient_pal()</a></code></li>
<li><code><a href="https://scales.r-lib.org/reference/pal_gradient_n.html">gradient_n_pal()</a></code></li>
</ul>
<p>Continuous palette constructors use the form <code>*_pal()(seq(0, 1, length.out = n))</code>. Like their <code>scale_color_*()</code> variants, these functions take 2, 3, or n colors and create a continuous scale.</p>
<p>Create a vector of <code>n</code> values:</p>
<div class="cell">
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, length.out <span class="op">=</span> <span class="fl">16</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Creating sequential and divergent gradients:</p>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://scales.r-lib.org/reference/show_col.html">show_col</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://scales.r-lib.org/reference/pal_seq_gradient.html">seq_gradient_pal</a></span><span class="op">(</span></span>
<span>    <span class="st">"#E5940E"</span>, <span class="st">"#454B87"</span></span>
<span>    <span class="op">)</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://scales.r-lib.org/reference/show_col.html">show_col</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://scales.r-lib.org/reference/pal_div_gradient.html">div_gradient_pal</a></span><span class="op">(</span></span>
<span>    <span class="st">"#E5940E"</span>, <span class="st">"white"</span>, <span class="st">"#454B87"</span></span>
<span>    <span class="op">)</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/seq-gradient-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/div-gradient-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<p>Like its scale variant, <code><a href="https://scales.r-lib.org/reference/pal_gradient_n.html">gradient_n_pal()</a></code> is useful for taking a discrete palette and turning it into a continuous palette. For instance, you can take colors from a Color Brewer palette and turn it into a continuous scale with many more colors.</p>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Discrete diverging scale</span></span>
<span><span class="va">cols</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://scales.r-lib.org/reference/pal_brewer.html">brewer_pal</a></span><span class="op">(</span><span class="st">"div"</span><span class="op">)</span><span class="op">(</span><span class="fl">9</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://scales.r-lib.org/reference/show_col.html">show_col</a></span><span class="op">(</span><span class="va">cols</span><span class="op">)</span></span>
<span><span class="co"># Continuous diverging scale</span></span>
<span><span class="fu"><a href="https://scales.r-lib.org/reference/show_col.html">show_col</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://scales.r-lib.org/reference/pal_gradient_n.html">gradient_n_pal</a></span><span class="op">(</span><span class="va">cols</span><span class="op">)</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/ngradient-pal-colors-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/ngradient-pal-2-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<p>This process shows an approximation of the colors that would be used in a continuous scale with the <code>scale_color_gradient*()</code> functions. Thus, you can replicate <code><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">scale_color_distiller()</a></code> with slightly different colors, as <code><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">scale_color_distiller()</a></code> has more colorful values towards the middle. The only other change is that <code><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">scale_color_distiller()</a></code> uses <code>direction = -1</code>.</p>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pcont</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_gradient.html">scale_color_gradientn</a></span><span class="op">(</span></span>
<span>    colors <span class="op">=</span> <span class="va">cols</span><span class="op">)</span></span>
<span><span class="va">pcont</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">scale_color_distiller</a></span><span class="op">(</span></span>
<span>    palette <span class="op">=</span> <span class="st">"BrBG"</span>, direction <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/scale-gradientn-brewer-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/scale-distiller-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</section></section><section id="sec-color-base" class="level3" data-number="18.5.4"><h3 data-number="18.5.4" class="anchored" data-anchor-id="sec-color-base">
<span class="header-section-number">18.5.4</span> Base color palettes</h3>
<p>R comes with a number of <a href="https://rdrr.io/r/grDevices/palettes.html">base color palettes</a>. On the changes in base color palettes from R 3.6 and 4.0 see:</p>
<ul>
<li>Zeileis and Murrell, “Coloring in R’s Blind Spot”</li>
<li><a href="https://blog.r-project.org/2019/04/01/hcl-based-color-palettes-in-grdevices">HCL-Based Color Palettes in grDevices</a></li>
<li><a href="https://blog.r-project.org/2019/11/21/a-new-palette-for-r">A New palette() for R</a></li>
</ul>
<p>Post R 4.0 palettes</p>
<ul>
<li>
<code><a href="https://rdrr.io/r/grDevices/palette.html">palette()</a></code>: Default discrete R palette of 8 colors “R4”</li>
<li>
<code>palette.colors(n, palette)</code>: Access to a set of discrete palettes; default is “Okabe-Ito”
<ul>
<li>
<code><a href="https://rdrr.io/r/grDevices/palette.html">palette.pals()</a></code>: Vector of palette names to use in <code><a href="https://rdrr.io/r/grDevices/palette.html">palette.colors()</a></code>.</li>
</ul>
</li>
<li>
<code>hcl.colors(n, palette)</code>: Continuous hcl color palettes; default is “viridis”
<ul>
<li>
<code><a href="https://rdrr.io/r/grDevices/palettes.html">hcl.pals()</a></code>: Vector of 115 continuous color palettes</li>
</ul>
</li>
</ul>
<p>Older palettes</p>
<ul>
<li><code><a href="https://rdrr.io/r/grDevices/palettes.html">rainbow()</a></code></li>
<li><code><a href="https://rdrr.io/r/grDevices/palettes.html">heat.colors()</a></code></li>
<li><code><a href="https://rdrr.io/r/grDevices/palettes.html">terrain.colors()</a></code></li>
<li><code><a href="https://rdrr.io/r/grDevices/palettes.html">topo.colors()</a></code></li>
<li><code><a href="https://rdrr.io/r/grDevices/palettes.html">cm.colors()</a></code></li>
<li><code><a href="https://rdrr.io/r/grDevices/gray.colors.html">gray.colors()</a></code></li>
</ul>
<section id="discrete-palettes-1" class="level4"><h4 class="anchored" data-anchor-id="discrete-palettes-1">Discrete palettes</h4>
<p>The default palette in R after R 4.0 is “R4”.</p>
<div class="cell">
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://scales.r-lib.org/reference/show_col.html">show_col</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/grDevices/palette.html">palette</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/R4-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<p><code>palette.colors(n, palette)</code> provides access to a range of discrete palettes that are listed with <code><a href="https://rdrr.io/r/grDevices/palette.html">palette.pals()</a></code>. The default palette is “Okabe-Ito”. Several palettes comes from Color Brewer, see <a href="#sec-color-brewer" class="quarto-xref"><span>Section 18.2.3</span></a>.</p>
<div class="cell">
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/grDevices/palette.html">palette.pals</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "R3"              "R4"              "ggplot2"         "Okabe-Ito"      </span></span>
<span><span class="co">#&gt;  [5] "Accent"          "Dark 2"          "Paired"          "Pastel 1"       </span></span>
<span><span class="co">#&gt;  [9] "Pastel 2"        "Set 1"           "Set 2"           "Set 3"          </span></span>
<span><span class="co">#&gt; [13] "Tableau 10"      "Classic Tableau" "Polychrome 36"   "Alphabet"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://scales.r-lib.org/reference/show_col.html">show_col</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/grDevices/palette.html">palette.colors</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://scales.r-lib.org/reference/show_col.html">show_col</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/grDevices/palette.html">palette.colors</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"Pastel 1"</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/palette.colors-1-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/palette.colors-2-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<p>You can change the defualt palette used by R by passing one of the palettes to the <code><a href="https://rdrr.io/r/grDevices/palette.html">palette()</a></code> function: <code>palette("Okabe-Ito")</code>.</p>
<p><code><a href="https://rdrr.io/r/grDevices/palettes.html">hcl.colors()</a></code> has 9 discrete color palettes that vary only in hue and have the same chroma and luminance. The first 5 palettes are derived from Color Brewer and are similar to the palettes present in <code><a href="https://rdrr.io/r/grDevices/palette.html">palette.colors()</a></code>. These are all very neutral palettes.</p>
<div class="cell">
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Qualitative palettes</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html">hcl.pals</a></span><span class="op">(</span><span class="st">"qualitative"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Pastel 1" "Dark 2"   "Dark 3"   "Set 2"    "Set 3"    "Warm"     "Cold"    </span></span>
<span><span class="co">#&gt; [8] "Harmonic" "Dynamic"</span></span>
<span><span class="fu"><a href="https://scales.r-lib.org/reference/show_col.html">show_col</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html">hcl.colors</a></span><span class="op">(</span><span class="fl">9</span>, palette <span class="op">=</span> <span class="st">"Pastel 1"</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/hcl.colors-qualitative-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</section><section id="continuous-palettes-1" class="level4"><h4 class="anchored" data-anchor-id="continuous-palettes-1">Continuous palettes</h4>
<p><code><a href="https://rdrr.io/r/grDevices/palettes.html">hcl.colors()</a></code> is a simplified implementation of the color palettes from the <code>colorspace</code> package, see <a href="#sec-color-colorspace" class="quarto-xref"><span>Section 18.5.5</span></a>. This means that you can use the <code>colorspace</code> package to use these palettes directly in <code>ggplot2</code>.</p>
<p><code><a href="https://rdrr.io/r/grDevices/palettes.html">hcl.colors()</a></code> does not select from a fixed set of colors but provides a specific path in the HCL color space. For hue, chroma, and luminance a color palette can have either a constant, linear, or triangular trajectory within the HCL values. The default is viridis:</p>
<div class="cell">
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://scales.r-lib.org/reference/show_col.html">show_col</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html">hcl.colors</a></span><span class="op">(</span><span class="fl">9</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/base-hcl-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<p><code><a href="https://rdrr.io/r/grDevices/palettes.html">hcl.colors()</a></code> has single hue, multi-hue, diverging, and divergingx palettes which can be listed with “qualitative”, “sequential”, “diverging”, or “divergingx” in <code><a href="https://rdrr.io/r/grDevices/palettes.html">hcl.pals()</a></code>.</p>
<p>The single hue are all inspired by Color Brewer except Oslo, which is from the <code>scico</code> package.</p>
<div class="cell">
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Single hue palettes</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html">hcl.pals</a></span><span class="op">(</span><span class="op">)</span><span class="op">[</span><span class="fl">10</span><span class="op">:</span><span class="fl">20</span><span class="op">]</span></span>
<span><span class="co">#&gt;  [1] "Grays"       "Light Grays" "Blues 2"     "Blues 3"     "Purples 2"  </span></span>
<span><span class="co">#&gt;  [6] "Purples 3"   "Reds 2"      "Reds 3"      "Greens 2"    "Greens 3"   </span></span>
<span><span class="co">#&gt; [11] "Oslo"</span></span>
<span><span class="fu"><a href="https://scales.r-lib.org/reference/show_col.html">show_col</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html">hcl.colors</a></span><span class="op">(</span><span class="fl">9</span>, <span class="st">"reds 3"</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/base-hcl-single-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<p>The multi-hue palettes are similar to those from <code>colorspace</code>, <code>viridis</code>, <code>rcartocolor</code>, and <code>scico</code>.</p>
<div class="cell">
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Multi-hue palettes</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html">hcl.pals</a></span><span class="op">(</span><span class="op">)</span><span class="op">[</span><span class="fl">21</span><span class="op">:</span><span class="fl">79</span><span class="op">]</span></span>
<span><span class="co">#&gt;  [1] "Purple-Blue"   "Red-Purple"    "Red-Blue"      "Purple-Orange"</span></span>
<span><span class="co">#&gt;  [5] "Purple-Yellow" "Blue-Yellow"   "Green-Yellow"  "Red-Yellow"   </span></span>
<span><span class="co">#&gt;  [9] "Heat"          "Heat 2"        "Terrain"       "Terrain 2"    </span></span>
<span><span class="co">#&gt; [13] "Viridis"       "Plasma"        "Inferno"       "Rocket"       </span></span>
<span><span class="co">#&gt; [17] "Mako"          "Dark Mint"     "Mint"          "BluGrn"       </span></span>
<span><span class="co">#&gt; [21] "Teal"          "TealGrn"       "Emrld"         "BluYl"        </span></span>
<span><span class="co">#&gt; [25] "ag_GrnYl"      "Peach"         "PinkYl"        "Burg"         </span></span>
<span><span class="co">#&gt; [29] "BurgYl"        "RedOr"         "OrYel"         "Purp"         </span></span>
<span><span class="co">#&gt; [33] "PurpOr"        "Sunset"        "Magenta"       "SunsetDark"   </span></span>
<span><span class="co">#&gt; [37] "ag_Sunset"     "BrwnYl"        "YlOrRd"        "YlOrBr"       </span></span>
<span><span class="co">#&gt; [41] "OrRd"          "Oranges"       "YlGn"          "YlGnBu"       </span></span>
<span><span class="co">#&gt; [45] "Reds"          "RdPu"          "PuRd"          "Purples"      </span></span>
<span><span class="co">#&gt; [49] "PuBuGn"        "PuBu"          "Greens"        "BuGn"         </span></span>
<span><span class="co">#&gt; [53] "GnBu"          "BuPu"          "Blues"         "Lajolla"      </span></span>
<span><span class="co">#&gt; [57] "Turku"         "Hawaii"        "Batlow"</span></span>
<span><span class="fu"><a href="https://scales.r-lib.org/reference/show_col.html">show_col</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html">hcl.colors</a></span><span class="op">(</span><span class="fl">9</span>, <span class="st">"Lajolla"</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/base-hcl-multi-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<p>The diverging palettes use contrasting colors on the extremes with either light gray or yellow at the center. The palettes are similar to those from <code>colorspace</code>, <code>rcartocolor</code>, and <code>scico</code>. There are also flexible diverging palettes that do not have restrictions on balancing the ends and can go through other colors in the middle.</p>
<div class="cell">
<div class="sourceCode" id="cb50"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Diverging palettes</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html">hcl.pals</a></span><span class="op">(</span><span class="op">)</span><span class="op">[</span><span class="fl">80</span><span class="op">:</span><span class="fl">115</span><span class="op">]</span></span>
<span><span class="co">#&gt;  [1] "Blue-Red"      "Blue-Red 2"    "Blue-Red 3"    "Red-Green"    </span></span>
<span><span class="co">#&gt;  [5] "Purple-Green"  "Purple-Brown"  "Green-Brown"   "Blue-Yellow 2"</span></span>
<span><span class="co">#&gt;  [9] "Blue-Yellow 3" "Green-Orange"  "Cyan-Magenta"  "Tropic"       </span></span>
<span><span class="co">#&gt; [13] "Broc"          "Cork"          "Vik"           "Berlin"       </span></span>
<span><span class="co">#&gt; [17] "Lisbon"        "Tofino"        "ArmyRose"      "Earth"        </span></span>
<span><span class="co">#&gt; [21] "Fall"          "Geyser"        "TealRose"      "Temps"        </span></span>
<span><span class="co">#&gt; [25] "PuOr"          "RdBu"          "RdGy"          "PiYG"         </span></span>
<span><span class="co">#&gt; [29] "PRGn"          "BrBG"          "RdYlBu"        "RdYlGn"       </span></span>
<span><span class="co">#&gt; [33] "Spectral"      "Zissou 1"      "Cividis"       "Roma"</span></span>
<span><span class="fu"><a href="https://scales.r-lib.org/reference/show_col.html">show_col</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html">hcl.colors</a></span><span class="op">(</span><span class="fl">9</span>, <span class="st">"TealRose"</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/base-hcl-div-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</section></section><section id="sec-color-colorspace" class="level3" data-number="18.5.5"><h3 data-number="18.5.5" class="anchored" data-anchor-id="sec-color-colorspace">
<span class="header-section-number">18.5.5</span> colorspace</h3>
<p>The <code>colorspace</code> package provides a broad toolbox for selecting individual colors or color palettes, manipulating these colors, and employing them in various kinds of visualizations. As noted above, a simplified version of the color palettes from the package have been implemented in base R with <code><a href="https://rdrr.io/r/grDevices/palettes.html">hcl.colors()</a></code>. The package provides three types of palettes: qualitative, sequential, and diverging. The package also provides tools for mapping HCL color space to hex values and other color representations, as well as tools to visualize and manipulate color palettes.</p>
<section id="hcl-color-palettes" class="level4"><h4 class="anchored" data-anchor-id="hcl-color-palettes">HCL color palettes</h4>
<p><a href="http://colorspace.r-forge.r-project.org/articles/hcl_palettes.html">HCL color palettes</a></p>
<p>Use <code><a href="https://colorspace.R-Forge.R-project.org/reference/hcl_palettes.html">hcl_palettes()</a></code> to access the palettes provided by <code>colorspace</code>. These are the same palettes as provided by base R with <code><a href="https://rdrr.io/r/grDevices/palettes.html">hcl.colors()</a></code>, see <a href="#sec-color-base" class="quarto-xref"><span>Section 18.5.4</span></a>. The main difference is that <code><a href="https://rdrr.io/r/grDevices/palettes.html">hcl.colors()</a></code> does not have the ability to modify the existing palettes through the <code>h</code>, <code>c</code>, and <code>l</code> arguments in the palette functions.</p>
<ul>
<li>
<code>hcl_palettes(plot = TRUE)</code>: View a plot of the palettes.</li>
<li>
<code><a href="https://colorspace.R-Forge.R-project.org/reference/choose_palette.html">hclwizard()</a></code>: shiny app to view and play around with the palettes.</li>
</ul>
<p>Many of the palettes are similar to those provided by other packages such as Color Brewer, Viridis, rcartocolors, and scico. See the <a href="http://colorspace.r-forge.r-project.org/articles/approximations.html">vignette</a> for a discussion and visualizations of the comparisons.</p>
<div class="cell">
<div class="sourceCode" id="cb51"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://colorspace.R-Forge.R-project.org/reference/hcl_palettes.html">hcl_palettes</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; HCL palettes</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Type:  Qualitative </span></span>
<span><span class="co">#&gt; Names: Pastel 1, Dark 2, Dark 3, Set 2, Set 3, Warm, Cold, Harmonic, Dynamic</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Type:  Sequential (single-hue) </span></span>
<span><span class="co">#&gt; Names: Grays, Light Grays, Blues 2, Blues 3, Purples 2, Purples 3, Reds 2,</span></span>
<span><span class="co">#&gt;        Reds 3, Greens 2, Greens 3, Oslo</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Type:  Sequential (multi-hue) </span></span>
<span><span class="co">#&gt; Names: Purple-Blue, Red-Purple, Red-Blue, Purple-Orange, Purple-Yellow,</span></span>
<span><span class="co">#&gt;        Blue-Yellow, Green-Yellow, Red-Yellow, Heat, Heat 2, Terrain,</span></span>
<span><span class="co">#&gt;        Terrain 2, Viridis, Plasma, Inferno, Rocket, Mako, Dark Mint,</span></span>
<span><span class="co">#&gt;        Mint, BluGrn, Teal, TealGrn, Emrld, BluYl, ag_GrnYl, Peach,</span></span>
<span><span class="co">#&gt;        PinkYl, Burg, BurgYl, RedOr, OrYel, Purp, PurpOr, Sunset,</span></span>
<span><span class="co">#&gt;        Magenta, SunsetDark, ag_Sunset, BrwnYl, YlOrRd, YlOrBr, OrRd,</span></span>
<span><span class="co">#&gt;        Oranges, YlGn, YlGnBu, Reds, RdPu, PuRd, Purples, PuBuGn, PuBu,</span></span>
<span><span class="co">#&gt;        Greens, BuGn, GnBu, BuPu, Blues, Lajolla, Turku, Hawaii, Batlow</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Type:  Diverging </span></span>
<span><span class="co">#&gt; Names: Blue-Red, Blue-Red 2, Blue-Red 3, Red-Green, Purple-Green,</span></span>
<span><span class="co">#&gt;        Purple-Brown, Green-Brown, Blue-Yellow 2, Blue-Yellow 3,</span></span>
<span><span class="co">#&gt;        Green-Orange, Cyan-Magenta, Tropic, Broc, Cork, Vik, Berlin,</span></span>
<span><span class="co">#&gt;        Lisbon, Tofino</span></span>
<span><span class="fu"><a href="https://colorspace.R-Forge.R-project.org/reference/divergingx_hcl.html">divergingx_palettes</a></span><span class="op">(</span><span class="op">)</span> </span>
<span><span class="co">#&gt; HCL palettes</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Type:  Diverging (flexible) </span></span>
<span><span class="co">#&gt; Names: ArmyRose, Earth, Fall, Geyser, TealRose, Temps, Tropic, PuOr, RdBu,</span></span>
<span><span class="co">#&gt;        RdGy, PiYG, PRGn, BrBG, RdYlBu, RdYlGn, Spectral, Zissou 1,</span></span>
<span><span class="co">#&gt;        Cividis, Roma</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Access the palettes by using the palette function that corresponds to the type of palette you desire:</p>
<ul>
<li><code><a href="https://colorspace.R-Forge.R-project.org/reference/hcl_palettes.html">qualitative_hcl()</a></code></li>
<li><code><a href="https://colorspace.R-Forge.R-project.org/reference/hcl_palettes.html">sequential_hcl()</a></code></li>
<li><code><a href="https://colorspace.R-Forge.R-project.org/reference/hcl_palettes.html">diverging_hcl()</a></code></li>
<li><code><a href="https://colorspace.R-Forge.R-project.org/reference/divergingx_hcl.html">divergingx_hcl()</a></code></li>
</ul>
<div class="sourceCode" id="cb52"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://scales.r-lib.org/reference/show_col.html">show_col</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://colorspace.R-Forge.R-project.org/reference/hcl_palettes.html">qualitative_hcl</a></span><span class="op">(</span><span class="fl">9</span>,</span>
<span>    palette <span class="op">=</span> <span class="st">"Pastel 1"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://scales.r-lib.org/reference/show_col.html">show_col</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://colorspace.R-Forge.R-project.org/reference/hcl_palettes.html">diverging_hcl</a></span><span class="op">(</span><span class="fl">9</span>,</span>
<span>    palette <span class="op">=</span> <span class="st">"Berlin"</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/hcl-pallete1-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/hcl-pallete2-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<p>The palette functions also have arguments to alter <code>h</code>, <code>c</code>, and <code>l</code> to modify the palettes. This functionality is not available through the base R <code><a href="https://rdrr.io/r/grDevices/palettes.html">hcl.colors()</a></code> function.</p>
</section><section id="ggplot2-scales" class="level4"><h4 class="anchored" data-anchor-id="ggplot2-scales">ggplot2 scales</h4>
<ul>
<li>Continuous
<ul>
<li><code><a href="https://colorspace.R-Forge.R-project.org/reference/scale_colour_continuous_qualitative.html">scale_color_continuous_qualitative()</a></code></li>
<li><code><a href="https://colorspace.R-Forge.R-project.org/reference/scale_colour_continuous_sequential.html">scale_color_continuous_sequential()</a></code></li>
<li><code><a href="https://colorspace.R-Forge.R-project.org/reference/scale_colour_continuous_diverging.html">scale_color_continuous_diverging()</a></code></li>
<li><code><a href="https://colorspace.R-Forge.R-project.org/reference/scale_colour_continuous_divergingx.html">scale_color_continuous_divergingx()</a></code></li>
</ul>
</li>
<li>Binned
<ul>
<li><code><a href="https://colorspace.R-Forge.R-project.org/reference/scale_colour_binned_qualitative.html">scale_color_binned_qualitative()</a></code></li>
<li><code><a href="https://colorspace.R-Forge.R-project.org/reference/scale_colour_binned_sequential.html">scale_color_binned_sequential()</a></code></li>
<li><code><a href="https://colorspace.R-Forge.R-project.org/reference/scale_colour_binned_diverging.html">scale_color_binned_diverging()</a></code></li>
<li><code><a href="https://colorspace.R-Forge.R-project.org/reference/scale_colour_binned_divergingx.html">scale_color_binned_divergingx()</a></code></li>
</ul>
</li>
<li>Discrete
<ul>
<li><code><a href="https://colorspace.R-Forge.R-project.org/reference/scale_colour_discrete_qualitative.html">scale_color_discrete_qualitative()</a></code></li>
<li><code><a href="https://colorspace.R-Forge.R-project.org/reference/scale_colour_discrete_sequential.html">scale_color_discrete_sequential()</a></code></li>
<li><code><a href="https://colorspace.R-Forge.R-project.org/reference/scale_colour_discrete_diverging.html">scale_color_discrete_diverging()</a></code></li>
<li><code><a href="https://colorspace.R-Forge.R-project.org/reference/scale_colour_discrete_divergingx.html">scale_color_discrete_divergingx()</a></code></li>
</ul>
</li>
</ul>
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pcont</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://colorspace.R-Forge.R-project.org/reference/scale_colour_continuous_sequential.html">scale_color_continuous_sequential</a></span><span class="op">(</span></span>
<span>    <span class="st">"Lajolla"</span><span class="op">)</span></span>
<span><span class="va">pdisc</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://colorspace.R-Forge.R-project.org/reference/scale_colour_discrete_qualitative.html">scale_color_discrete_qualitative</a></span><span class="op">(</span></span>
<span>    <span class="st">"Dark 3"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/colorspace-scales1-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/colorspace-scales2-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<p>The <code>nmax</code> and <code>order</code> arguments in the discrete scales allow you to choose which colors to use.</p>
<div class="cell">
<div class="sourceCode" id="cb54"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pdisc</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://colorspace.R-Forge.R-project.org/reference/scale_colour_discrete_qualitative.html">scale_color_discrete_qualitative</a></span><span class="op">(</span></span>
<span>    <span class="st">"Dark 3"</span>,</span>
<span>    nmax <span class="op">=</span> <span class="fl">8</span>,</span>
<span>    order <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">8</span>, <span class="fl">6</span>, <span class="fl">3</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/colorspace-order-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<p>You can use this to remove the lightest colors in sequential palettes:</p>
<div class="cell">
<div class="sourceCode" id="cb55"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pdisc</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://colorspace.R-Forge.R-project.org/reference/scale_colour_discrete_sequential.html">scale_color_discrete_sequential</a></span><span class="op">(</span></span>
<span>    <span class="st">"Blues"</span>, nmax <span class="op">=</span> <span class="fl">8</span>, order <span class="op">=</span> <span class="fl">3</span><span class="op">:</span><span class="fl">8</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/colorspace-seq-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<p>Like the palette functions, you can also change the <code>h1</code>, <code>c1</code>, and <code>l1</code> and <code>h2</code>, <code>c2</code>, and <code>l2</code> arguments for the starting and ending values. In addition, the continuous scale functions have arguments for <code>begin</code> and <code>end</code> that indicate where to begin and end on the color scale from 0 to 1.</p>
</section><section id="palette-visualization-and-assessment" class="level4"><h4 class="anchored" data-anchor-id="palette-visualization-and-assessment">Palette visualization and assessment</h4>
<p>Use <code><a href="https://colorspace.R-Forge.R-project.org/reference/swatchplot.html">swatchplot()</a></code> to view color palettes similar to <code><a href="https://scales.r-lib.org/reference/show_col.html">scales::show_col()</a></code>.</p>
<div class="cell">
<div class="sourceCode" id="cb56"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://colorspace.R-Forge.R-project.org/reference/swatchplot.html">swatchplot</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://colorspace.R-Forge.R-project.org/reference/hcl_palettes.html">sequential_hcl</a></span><span class="op">(</span><span class="fl">8</span>, h <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">300</span><span class="op">)</span>, c <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">60</span>, <span class="fl">60</span><span class="op">)</span>, l <span class="op">=</span> <span class="fl">65</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/swatchplot-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<p>Compare multiple palettes:</p>
<div class="cell">
<div class="sourceCode" id="cb57"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://colorspace.R-Forge.R-project.org/reference/swatchplot.html">swatchplot</a></span><span class="op">(</span></span>
<span>  <span class="st">"Qualitative"</span> <span class="op">=</span> <span class="fu"><a href="https://colorspace.R-Forge.R-project.org/reference/hcl_palettes.html">qualitative_hcl</a></span><span class="op">(</span><span class="fl">6</span>, palette <span class="op">=</span> <span class="st">"Dark 3"</span><span class="op">)</span>,</span>
<span>  <span class="st">"Sequential"</span>  <span class="op">=</span> <span class="fu"><a href="https://colorspace.R-Forge.R-project.org/reference/hcl_palettes.html">sequential_hcl</a></span><span class="op">(</span><span class="fl">6</span>, palette <span class="op">=</span> <span class="st">"Purples 2"</span><span class="op">)</span>,</span>
<span>  <span class="st">"Diverging"</span>   <span class="op">=</span> <span class="fu"><a href="https://colorspace.R-Forge.R-project.org/reference/hcl_palettes.html">diverging_hcl</a></span><span class="op">(</span><span class="fl">6</span>, palette <span class="op">=</span> <span class="st">"Tropic"</span><span class="op">)</span>,</span>
<span>  off <span class="op">=</span> <span class="fl">0</span></span>
<span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/swatchplot-comparison-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<p>Show palette with common types of color blindness with <code>cvd = TRUE</code>:</p>
<div class="cell">
<div class="sourceCode" id="cb58"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://colorspace.R-Forge.R-project.org/reference/swatchplot.html">swatchplot</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://colorspace.R-Forge.R-project.org/reference/hcl_palettes.html">sequential_hcl</a></span><span class="op">(</span><span class="fl">8</span>, palette <span class="op">=</span> <span class="st">"Sunset"</span><span class="op">)</span>,</span>
<span>  cvd <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/swatch-colorblind-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<p>Alternatively, use <code>spec_plot()</code> to see the hue, chroma, and luminance coordinates of a palette. Hue is shown in red with an axis of -360 to 360 on the right, chroma is in green, and luminance in blue both of which have an axis of 0 to 100 on the left. These plots do a good job of showing the structure of the different palettes. For instance, a sequential plot maintains the same hue (color) but changes chroma and luminance in an inverse relationship. A multi-hue sequential palette will often have a triangular path in chroma. On the other hand, a qualitative palette like “Set 2” goes through the spectrum of colors while maintaining mostly stable chroma and luminance. A diverging palette such as “Blue-Red” replicates the sequential plot from two different sides,</p>
<div class="sourceCode" id="cb59"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Sequential</span></span>
<span><span class="fu"><a href="https://colorspace.R-Forge.R-project.org/reference/specplot.html">specplot</a></span><span class="op">(</span><span class="fu"><a href="https://colorspace.R-Forge.R-project.org/reference/hcl_palettes.html">sequential_hcl</a></span><span class="op">(</span></span>
<span>  <span class="fl">25</span>, <span class="st">"Blues 2"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># Multi-hue sequential</span></span>
<span><span class="fu"><a href="https://colorspace.R-Forge.R-project.org/reference/specplot.html">specplot</a></span><span class="op">(</span><span class="fu"><a href="https://colorspace.R-Forge.R-project.org/reference/hcl_palettes.html">sequential_hcl</a></span><span class="op">(</span></span>
<span>  <span class="fl">25</span>, <span class="st">"La Jolla"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># Qualitative</span></span>
<span><span class="fu"><a href="https://colorspace.R-Forge.R-project.org/reference/specplot.html">specplot</a></span><span class="op">(</span><span class="fu"><a href="https://colorspace.R-Forge.R-project.org/reference/hcl_palettes.html">qualitative_hcl</a></span><span class="op">(</span></span>
<span>  <span class="fl">25</span>, <span class="st">"Set 2"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># Diverging</span></span>
<span><span class="fu"><a href="https://colorspace.R-Forge.R-project.org/reference/specplot.html">specplot</a></span><span class="op">(</span><span class="fu"><a href="https://colorspace.R-Forge.R-project.org/reference/hcl_palettes.html">diverging_hcl</a></span><span class="op">(</span></span>
<span>  <span class="fl">25</span>, <span class="st">"Blue-Red"</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/specplot-1-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/specplot-2-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</div>
<div class="quarto-layout-row">
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/specplot-3-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/specplot-4-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</section><section id="color-manipulation-and-utilities" class="level4"><h4 class="anchored" data-anchor-id="color-manipulation-and-utilities">Color manipulation and utilities</h4>
<p><code>colorspace</code> has tools to manipulate color palettes, particularly to desaturate, lighten, or darken them. Desaturation removes the chroma or color of a palette, turning it into a gray scale. Lightening and darkening use an algorithm to try to lighten or darken colors while maintaining correspondence in how they look.</p>
<ul>
<li>
<code><a href="https://colorspace.R-Forge.R-project.org/reference/desaturate.html">desaturate()</a></code>: Desaturate colors by chroma removal in HCL space to turn into gray scale.</li>
<li>
<code><a href="https://colorspace.R-Forge.R-project.org/reference/lighten.html">lighten()</a></code>: Use algorithm to lighten colors in HCL space.</li>
<li>
<code><a href="https://colorspace.R-Forge.R-project.org/reference/lighten.html">darken()</a></code>: Use algorithm to darken colors in HCL space.</li>
</ul>
<p><strong>Desaturate</strong></p>
<div class="cell">
<div class="sourceCode" id="cb60"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">cols</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://colorspace.R-Forge.R-project.org/reference/hcl_palettes.html">sequential_hcl</a></span><span class="op">(</span><span class="fl">25</span>, <span class="st">"La Jolla"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://colorspace.R-Forge.R-project.org/reference/swatchplot.html">swatchplot</a></span><span class="op">(</span></span>
<span>  <span class="st">"La Jolla"</span> <span class="op">=</span> <span class="va">cols</span>,</span>
<span>  <span class="st">"Desaturate"</span> <span class="op">=</span> <span class="fu"><a href="https://colorspace.R-Forge.R-project.org/reference/desaturate.html">desaturate</a></span><span class="op">(</span><span class="va">cols</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/desaturate-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<p>Lightening and darkening a palette can be really useful for having complementary color palettes for different types of geoms or text annotations in a plot. See <a href="02-ggplot2-rstudioconf-2022.html#sec-rs22-gd-color-custom-pals" class="quarto-xref"><span>Section 13.10.3</span></a> for an example of lightening and darkening a palette to add layers to a plot.</p>
<p><strong>Lighten and Darken</strong></p>
<div class="cell">
<div class="sourceCode" id="cb61"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">cols</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://colorspace.R-Forge.R-project.org/reference/hcl_palettes.html">sequential_hcl</a></span><span class="op">(</span><span class="fl">5</span>, <span class="st">"Purple-Orange"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://colorspace.R-Forge.R-project.org/reference/swatchplot.html">swatchplot</a></span><span class="op">(</span></span>
<span>  <span class="st">"-40%"</span> <span class="op">=</span> <span class="fu"><a href="https://colorspace.R-Forge.R-project.org/reference/lighten.html">lighten</a></span><span class="op">(</span><span class="va">cols</span>, <span class="fl">0.4</span><span class="op">)</span>,</span>
<span>  <span class="st">"-20%"</span> <span class="op">=</span> <span class="fu"><a href="https://colorspace.R-Forge.R-project.org/reference/lighten.html">lighten</a></span><span class="op">(</span><span class="va">cols</span>, <span class="fl">0.2</span><span class="op">)</span>,</span>
<span>  <span class="st">"  0%"</span> <span class="op">=</span> <span class="va">cols</span>,</span>
<span>  <span class="st">" 20%"</span> <span class="op">=</span>  <span class="fu"><a href="https://colorspace.R-Forge.R-project.org/reference/lighten.html">darken</a></span><span class="op">(</span><span class="va">cols</span>, <span class="fl">0.2</span><span class="op">)</span>,</span>
<span>  <span class="st">" 40%"</span> <span class="op">=</span>  <span class="fu"><a href="https://colorspace.R-Forge.R-project.org/reference/lighten.html">darken</a></span><span class="op">(</span><span class="va">cols</span>, <span class="fl">0.4</span><span class="op">)</span>,</span>
<span>  off <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/lighten-darken-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<p><code><a href="https://colorspace.R-Forge.R-project.org/reference/lighten.html">lighten()</a></code> and <code><a href="https://colorspace.R-Forge.R-project.org/reference/lighten.html">darken()</a></code> have arguments for the <code>amount</code> to apply the manipulation, but also for the <code>method</code> to use and the color <code>space</code> within which to make the manipulation. You can play around with these arguments if the defaults are not what you want.</p>
<p>Another tool provided by <code>colorspace</code> is to calculate color contrast ratios between a palette and a color with <code><a href="https://colorspace.R-Forge.R-project.org/reference/contrast_ratio.html">contrast_ratio()</a></code>.</p>
<div class="cell">
<div class="sourceCode" id="cb62"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://colorspace.R-Forge.R-project.org/reference/contrast_ratio.html">contrast_ratio</a></span><span class="op">(</span><span class="fu"><a href="https://colorspace.R-Forge.R-project.org/reference/hcl_palettes.html">sequential_hcl</a></span><span class="op">(</span><span class="fl">6</span>, <span class="st">"Emrld"</span><span class="op">)</span>,</span>
<span>               plot <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/contrast-ratio-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<p>You can also use <code>colorspace</code> to calculate the maximum chroma for a given hue and luminance with <code><a href="https://colorspace.R-Forge.R-project.org/reference/max_chroma.html">max_chroma()</a></code>.</p>
<div class="cell">
<div class="sourceCode" id="cb63"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://colorspace.R-Forge.R-project.org/reference/max_chroma.html">max_chroma</a></span><span class="op">(</span>h <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">360</span>, by <span class="op">=</span> <span class="fl">60</span><span class="op">)</span>, l <span class="op">=</span> <span class="fl">50</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 137.96  59.99  69.06  39.81  65.45 119.54 137.96</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section><section id="sec-color-scico" class="level3" data-number="18.5.6"><h3 data-number="18.5.6" class="anchored" data-anchor-id="sec-color-scico">
<span class="header-section-number">18.5.6</span> scico</h3>
<p>The <code>scico</code> package provides access to the perceptually uniform and color-blind friendly palettes developed by Fabio Crameri. The package has 35 different palettes. The color scales are sequential, and so it is a good augmentation to the viridis palettes.</p>
<ul>
<li>
<code><a href="https://rdrr.io/pkg/scico/man/scico_data.html">scico_palette_names()</a></code>: Vector of palette names.</li>
<li>
<code><a href="https://rdrr.io/pkg/scico/man/scico_palette_show.html">scico_palette_show()</a></code>: View the palettes.</li>
<li>
<code>scico(30, palette = "lapaz")</code>: Generate a palette with <code>n</code> values.</li>
<li>
<code><a href="https://rdrr.io/pkg/scico/man/ggplot2-scales.html">scale_color_scico()</a></code>: continuous color scale.</li>
<li>
<code><a href="https://rdrr.io/pkg/scico/man/ggplot2-scales.html">scale_color_scico_d()</a></code>: discrete color scale.</li>
</ul>
<div class="sourceCode" id="cb64"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pcont</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/scico/man/ggplot2-scales.html">scale_color_scico</a></span><span class="op">(</span></span>
<span>    palette <span class="op">=</span> <span class="st">"hawaii"</span><span class="op">)</span></span>
<span><span class="va">pdisc</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span>values <span class="op">=</span> </span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/scico/man/scico.html">scico</a></span><span class="op">(</span><span class="fl">6</span>, palette <span class="op">=</span> <span class="st">"tokyo"</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/scico-scale-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/scico-pal-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</section><section id="sec-color-ggsci" class="level3" data-number="18.5.7"><h3 data-number="18.5.7" class="anchored" data-anchor-id="sec-color-ggsci">
<span class="header-section-number">18.5.7</span> ggsci</h3>
<p>ggsci offers a collection of <code>ggplot2</code> color palettes inspired by scientific journals, data visualization libraries, science fiction movies, and TV shows. The palettes are mostly discrete. Each palette type has its own functions to access palettes (<code>pal_palname()</code>) and scale functions to use the palettes (<code>scale_color_palname()</code>). Each palette has different <code>palette</code> options.</p>
<div class="sourceCode" id="cb65"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pdisc</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://nanx.me/ggsci/reference/scale_uchicago.html">scale_color_uchicago</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">pdisc</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span>values <span class="op">=</span> </span>
<span>    <span class="fu"><a href="https://nanx.me/ggsci/reference/pal_simpsons.html">pal_simpsons</a></span><span class="op">(</span><span class="op">)</span><span class="op">(</span><span class="fl">6</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/ggsci-scale-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/ggsci-pal-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</section><section id="sec-color-ggthemes" class="level3" data-number="18.5.8"><h3 data-number="18.5.8" class="anchored" data-anchor-id="sec-color-ggthemes">
<span class="header-section-number">18.5.8</span> ggthemes</h3>
<p><code>ggthemes</code> provides a number of extra color palettes derived from the style of news organizations and other visualization platforms. Like <code>ggsci</code>, it has functions to access palettes (<code>palname_pal()</code>) and scale functions (<code>scale_color_palname()</code>).</p>
<div class="sourceCode" id="cb66"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pdisc</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/ggthemes/man/scale_solarized.html">scale_color_solarized</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/ggthemes/man/theme_solarized.html">theme_solarized</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">pdisc</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span> </span>
<span>    values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/ggthemes/man/economist_pal.html">economist_pal</a></span><span class="op">(</span><span class="op">)</span><span class="op">(</span><span class="fl">6</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/ggthemes/man/theme_economist.html">theme_economist</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/ggthemes-scale-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/ggthems-pal-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</section><section id="sec-color-rcartocolors" class="level3" data-number="18.5.9"><h3 data-number="18.5.9" class="anchored" data-anchor-id="sec-color-rcartocolors">
<span class="header-section-number">18.5.9</span> rcartocolors</h3>
<p><code>rcartocolor</code> provides color palettes made for mapping designed by <a href="https://carto.com/carto-colors/">CARTO</a>. Similar to Color brewer, <code>rcartocolor</code> has sequential, diverging, and qualitative color palettes.</p>
<ul>
<li>
<code>cartocolors$Name</code>: vector of palette names
<ul>
<li>
<code>cartocolors[c(1, 2)]</code>: Data frame of palette names and types</li>
</ul>
</li>
<li>
<code><a href="https://rdrr.io/pkg/rcartocolor/man/display_carto_all.html">display_carto_all()</a></code>: display all palettes</li>
<li>
<code>display_carto_pal(6, name = "Sunset")</code>: Display a single palette with <code>n</code> discrete colors.</li>
<li>
<code>carto_pal(n, name)</code>: Create or access carto color palette</li>
<li>Scale functions
<ul>
<li><code><a href="https://rdrr.io/pkg/rcartocolor/man/carto_scale.html">scale_color_carto_c()</a></code></li>
<li><code><a href="https://rdrr.io/pkg/rcartocolor/man/carto_scale.html">scale_color_carto_d()</a></code></li>
</ul>
</li>
</ul>
<div class="sourceCode" id="cb67"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pcont</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/rcartocolor/man/carto_scale.html">scale_color_carto_c</a></span><span class="op">(</span></span>
<span>  palette <span class="op">=</span> <span class="st">"Sunset"</span><span class="op">)</span></span>
<span><span class="va">pdisc</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span></span>
<span>    values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/rcartocolor/man/carto_pal.html">carto_pal</a></span><span class="op">(</span><span class="fl">6</span>, <span class="st">"Vivid"</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/carto-scale-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/carto-pal-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</section><section id="sec-color-metbrewer" class="level3" data-number="18.5.10"><h3 data-number="18.5.10" class="anchored" data-anchor-id="sec-color-metbrewer">
<span class="header-section-number">18.5.10</span> MetBrewer</h3>
<p><code>MetBrewer</code> contains 56 color palettes inspired by works of art at the Metropolitan Museum of Art.</p>
<ul>
<li>
<code>MetPalettes</code>: see a complete list of all the palettes and the colors used in them.</li>
<li>
<code><a href="https://rdrr.io/pkg/MetBrewer/man/display_all.html">display_all()</a></code>: view all palettes.</li>
<li>
<code>met.brewer(name, n)</code>: view or use an individual palette. Use <code>n</code> to expand beyond the discrete values provided by the palettes.</li>
<li>Scale functions
<ul>
<li><code><a href="https://rdrr.io/pkg/MetBrewer/man/scale_color_met_c.html">scale_color_met_c()</a></code></li>
<li><code><a href="https://rdrr.io/pkg/MetBrewer/man/scale_color_met_d.html">scale_color_met_d()</a></code></li>
</ul>
</li>
</ul>
<div class="sourceCode" id="cb68"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pcont</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/MetBrewer/man/scale_color_met_c.html">scale_color_met_c</a></span><span class="op">(</span></span>
<span>    <span class="st">"VanGogh2"</span><span class="op">)</span></span>
<span><span class="va">pdisc</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span></span>
<span>    values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/MetBrewer/man/met.brewer.html">met.brewer</a></span><span class="op">(</span><span class="st">"VanGogh2"</span>, <span class="fl">6</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/metbrewer-scale-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/metbrewer-pal-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</section><section id="sec-color-paletteer" class="level3" data-number="18.5.11"><h3 data-number="18.5.11" class="anchored" data-anchor-id="sec-color-paletteer">
<span class="header-section-number">18.5.11</span> paletteer</h3>
<p><code>paletteer</code> provides a common API for accessing <a href="https://emilhvitfeldt.github.io/paletteer/index.html#included-packages">dozens of palette packages</a> and thousands of color palettes. The basic structure is <code>function("package::palette")</code>.</p>
<p><code>paletteer</code> palettes are divided among <strong>discrete</strong> and <strong>continuous</strong>. There are two types of discrete palettes: fixed width and dynamic. <strong>Fixed width</strong> palettes have a set number of colors and return colors from 1 to n.&nbsp;<strong>Dynamic</strong> palettes return different discrete colors depending on the number of colors desired using similar starting and ending values.</p>
<ul>
<li>Lists of palettes
<ul>
<li>
<code>paletteer_packages</code>: tibble of all color packages included</li>
<li>
<code>palettes_c_names</code>: tibble of continuous palettes</li>
<li>
<code>palettes_d_names</code>: tibble of discrete palettes</li>
<li>
<code>palettes_dynamic_names</code>: tibble of dynamic discrete palettes</li>
</ul>
</li>
<li>Pal functions
<ul>
<li><code>paletteer_c(palette, n)</code></li>
<li><code>paletteer_d(palette, n)</code></li>
<li><code>paletteer_dynamic(palette, n)</code></li>
</ul>
</li>
<li>Scale functions
<ul>
<li><code><a href="https://rdrr.io/pkg/paletteer/man/ggplot2-scales-continuous.html">scale_color_paletteer_c()</a></code></li>
<li><code><a href="https://rdrr.io/pkg/paletteer/man/ggplot2-scales-discrete.html">scale_color_paletteer_d()</a></code></li>
<li><code><a href="https://rdrr.io/pkg/paletteer/man/ggplot2-scales-binned.html">scale_color_paletteer_binned()</a></code></li>
</ul>
</li>
</ul>
<section id="continuous" class="level4"><h4 class="anchored" data-anchor-id="continuous">Continuous</h4>
<div class="sourceCode" id="cb69"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pcont</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/paletteer/man/ggplot2-scales-continuous.html">scale_color_paletteer_c</a></span><span class="op">(</span></span>
<span>    <span class="st">"harrypotter::hufflepuff"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://scales.r-lib.org/reference/show_col.html">show_col</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/paletteer/man/paletteer_c.html">paletteer_c</a></span><span class="op">(</span></span>
<span>    <span class="st">"harrypotter::hufflepuff"</span>, <span class="fl">16</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/paletteer-c1-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/paletteer-c2-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</section><section id="binned" class="level4"><h4 class="anchored" data-anchor-id="binned">Binned</h4>
<p><code><a href="https://rdrr.io/pkg/paletteer/man/ggplot2-scales-binned.html">scale_color_paletteer_binned()</a></code> creates binned versions of the continuous palettes from <code>palettes_c_names</code>.</p>
<div class="cell">
<div class="sourceCode" id="cb70"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pcont</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/paletteer/man/ggplot2-scales-binned.html">scale_color_paletteer_binned</a></span><span class="op">(</span></span>
<span>    <span class="st">"scico::tokyo"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/paletteer-binned-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</section><section id="discrete" class="level4"><h4 class="anchored" data-anchor-id="discrete">Discrete</h4>
<p>There are many, many more discrete palettes available. A good way to see the palettes available is to filter <code>palettes_d_names</code> by the name of the package.</p>
<div class="cell">
<div class="sourceCode" id="cb71"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">palettes_d_names</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">package</span> <span class="op">==</span> <span class="st">"nationalparkcolors"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 25 × 5</span></span>
<span><span class="co">#&gt;    package            palette        length type        novelty</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;              &lt;chr&gt;           &lt;int&gt; &lt;chr&gt;       &lt;lgl&gt;  </span></span>
<span><span class="co">#&gt;  1 nationalparkcolors SmokyMountains      6 qualitative TRUE   </span></span>
<span><span class="co">#&gt;  2 nationalparkcolors RockyMountains      5 qualitative TRUE   </span></span>
<span><span class="co">#&gt;  3 nationalparkcolors Yellowstone         6 qualitative TRUE   </span></span>
<span><span class="co">#&gt;  4 nationalparkcolors Arches              6 qualitative TRUE   </span></span>
<span><span class="co">#&gt;  5 nationalparkcolors ArcticGates         6 qualitative TRUE   </span></span>
<span><span class="co">#&gt;  6 nationalparkcolors MtMckinley          6 qualitative TRUE   </span></span>
<span><span class="co">#&gt;  7 nationalparkcolors GeneralGrant        8 qualitative TRUE   </span></span>
<span><span class="co">#&gt;  8 nationalparkcolors Hawaii              5 qualitative TRUE   </span></span>
<span><span class="co">#&gt;  9 nationalparkcolors CraterLake          7 qualitative TRUE   </span></span>
<span><span class="co">#&gt; 10 nationalparkcolors Saguaro             6 qualitative TRUE   </span></span>
<span><span class="co">#&gt; # ℹ 15 more rows</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceCode" id="cb72"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pdisc</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/paletteer/man/ggplot2-scales-discrete.html">scale_color_paletteer_d</a></span><span class="op">(</span></span>
<span>  <span class="st">"nationalparkcolors::BlueRidgePkwy"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://scales.r-lib.org/reference/show_col.html">show_col</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/paletteer/man/paletteer_d.html">paletteer_d</a></span><span class="op">(</span></span>
<span>  <span class="st">"nationalparkcolors::BlueRidgePkwy"</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/paletteer-d1-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<div class="cell quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-scales-color_files/figure-html/paletteer-d2-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<p><code><a href="https://rdrr.io/pkg/paletteer/man/paletteer_d.html">paletteer_d()</a></code> also has an argument for <code>type</code> to allow “continuous” palette to interpolate between colors and allow more colors than are available in the discrete palette. This provides a way to either get more colors for a discrete scale or visualize what the palette looks like in a continuous scale using <code>scale_gradientn()</code>.</p>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list" style="display: none">
<div id="ref-zeileis_murrell23" class="csl-entry" role="listitem">
Zeileis, Achim, and Paul Murrell. 2023. <span>“Coloring in <span>R</span>’s <span>Blind Spot</span>.”</span> <span>arXiv</span>. <a href="https://arxiv.org/abs/2303.04918">https://arxiv.org/abs/2303.04918</a>.
</div>
</div>
</section></section></section><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><hr>
<ol>
<li id="fn1"><p><span class="citation" data-cites="zeileis_murrell23">(<a href="references.html#ref-zeileis_murrell23" role="doc-biblioref">Zeileis and Murrell 2023</a>)</span><a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol></section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./02-scales-position.html" class="pagination-link  aria-label=" scales="">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Position scales</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./02-scales-aes.html" class="pagination-link" aria-label="<span class='chapter-number'>19</span>&nbsp; <span class='chapter-title'>Aesthetic scales</span>">
        <span class="nav-page-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Aesthetic scales</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>